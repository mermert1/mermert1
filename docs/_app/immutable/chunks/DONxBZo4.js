import{h as H,d as se,f as ie,g as D,a2 as ne,a3 as re,a4 as U,l as O,k as F,q as L,C as ae,a5 as oe,a6 as V,a7 as fe,a8 as q,a9 as ue,N as le,aa as ce,ab as P,ac as de,T as Y,ad as he,ae as ge,m as ve,u as me,i as N,af as T,ag as Z,ah as j,ai as K,aj as B,y as pe,ak as _e,al as Ee,am as Te,an as ye,j as Ie,ao as $,B as G,s as X,x as J,ap as xe}from"./D3L8CK3R.js";import{aG as we,aH as Se}from"./xtOvy4NR.js";function Fe(s,e){return e}function be(s,e,t){for(var n=[],c=e.length,o,r=e.length,u=0;u<c;u++){let m=e[u];K(m,()=>{if(o){if(o.pending.delete(m),o.done.add(m),o.pending.size===0){var h=s.outrogroups;z(P(o.done)),h.delete(o),h.size===0&&(s.outrogroups=null)}}else r-=1},!1)}if(r===0){var a=n.length===0&&t!==null;if(a){var d=t,f=d.parentNode;Te(f),f.append(d),s.items.clear()}z(e,!a)}else o={pending:new Set(e),done:new Set},(s.outrogroups??=new Set).add(o)}function z(s,e=!0){for(var t=0;t<s.length;t++)ye(s[t],e)}var Q;function Ne(s,e,t,n,c,o=null){var r=s,u=new Map,a=(e&Z)!==0;if(a){var d=s;r=H?O(me(d)):d.appendChild(N())}H&&se();var f=null,m=le(()=>{var l=t();return ce(l)?l:l==null?[]:P(l)}),h,v=!0;function I(){i.fallback=f,Ae(i,h,r,e,n),f!==null&&(h.length===0?(f.f&T)===0?j(f):(f.f^=T,R(f,null,r)):K(f,()=>{f=null}))}var S=ie(()=>{h=D(m);var l=h.length;let b=!1;if(H){var A=ne(r)===re;A!==(l===0)&&(r=U(),O(r),F(!1),b=!0)}for(var E=new Set,x=fe,M=ue(),p=0;p<l;p+=1){H&&L.nodeType===ae&&L.data===oe&&(r=L,b=!0,F(!1));var w=h[p],k=n(w,p),g=v?null:u.get(k);g?(g.v&&V(g.v,w),g.i&&V(g.i,p),M&&x.skipped_effects.delete(g.e)):(g=Me(u,v?r:Q??=N(),w,k,p,c,e,t),v||(g.e.f|=T),u.set(k,g)),E.add(k)}if(l===0&&o&&!f&&(v?f=q(()=>o(r)):(f=q(()=>o(Q??=N())),f.f|=T)),H&&l>0&&O(U()),!v)if(M){for(const[ee,te]of u)E.has(ee)||x.skipped_effects.add(te.e);x.oncommit(I),x.ondiscard(()=>{})}else I();b&&F(!0),D(m)}),i={effect:S,items:u,outrogroups:null,fallback:f};v=!1,H&&(r=L)}function C(s){for(;s!==null&&(s.f&_e)===0;)s=s.next;return s}function Ae(s,e,t,n,c){var o=(n&Ee)!==0,r=e.length,u=s.items,a=C(s.effect.first),d,f=null,m,h=[],v=[],I,S,i,l;if(o)for(l=0;l<r;l+=1)I=e[l],S=c(I,l),i=u.get(S).e,(i.f&T)===0&&(i.nodes?.a?.measure(),(m??=new Set).add(i));for(l=0;l<r;l+=1){if(I=e[l],S=c(I,l),i=u.get(S).e,s.outrogroups!==null)for(const g of s.outrogroups)g.pending.delete(i),g.done.delete(i);if((i.f&T)!==0)if(i.f^=T,i===a)R(i,null,t);else{var b=f?f.next:a;i===s.effect.last&&(s.effect.last=i.prev),i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),y(s,f,i),y(s,i,b),R(i,b,t),f=i,h=[],v=[],a=C(f.next);continue}if((i.f&B)!==0&&(j(i),o&&(i.nodes?.a?.unfix(),(m??=new Set).delete(i))),i!==a){if(d!==void 0&&d.has(i)){if(h.length<v.length){var A=v[0],E;f=A.prev;var x=h[0],M=h[h.length-1];for(E=0;E<h.length;E+=1)R(h[E],A,t);for(E=0;E<v.length;E+=1)d.delete(v[E]);y(s,x.prev,M.next),y(s,f,x),y(s,M,A),a=A,f=M,l-=1,h=[],v=[]}else d.delete(i),R(i,a,t),y(s,i.prev,i.next),y(s,i,f===null?s.effect.first:f.next),y(s,f,i),f=i;continue}for(h=[],v=[];a!==null&&a!==i;)(d??=new Set).add(a),v.push(a),a=C(a.next);if(a===null)continue}(i.f&T)===0&&h.push(i),f=i,a=C(i.next)}if(s.outrogroups!==null){for(const g of s.outrogroups)g.pending.size===0&&(z(P(g.done)),s.outrogroups?.delete(g));s.outrogroups.size===0&&(s.outrogroups=null)}if(a!==null||d!==void 0){var p=[];if(d!==void 0)for(i of d)(i.f&B)===0&&p.push(i);for(;a!==null;)(a.f&B)===0&&a!==s.fallback&&p.push(a),a=C(a.next);var w=p.length;if(w>0){var k=(n&Z)!==0&&r===0?t:null;if(o){for(l=0;l<w;l+=1)p[l].nodes?.a?.measure();for(l=0;l<w;l+=1)p[l].nodes?.a?.fix()}be(s,p,k)}}o&&pe(()=>{if(m!==void 0)for(i of m)i.nodes?.a?.apply()})}function Me(s,e,t,n,c,o,r,u){var a=(r&he)!==0?(r&ge)===0?ve(t,!1,!1):Y(t):null,d=(r&de)!==0?Y(c):null;return{v:a,i:d,e:q(()=>(o(e,a??t,d??c,u),()=>{s.delete(n)}))}}function R(s,e,t){if(s.nodes)for(var n=s.nodes.start,c=s.nodes.end,o=e&&(e.f&T)===0?e.nodes.start:t;n!==null;){var r=Ie(n);if(o.before(n),n===c)return;n=r}}function y(s,e,t){e===null?s.effect.first=t:e.next=t,t===null?s.effect.last=e:t.prev=e}function Be(...s){return s.filter(Boolean).join(" ")}const ke=typeof document<"u";let W=0;class He{#e=$(G([]));get toasts(){return D(this.#e)}set toasts(e){X(this.#e,e,!0)}#t=$(G([]));get heights(){return D(this.#t)}set heights(e){X(this.#t,e,!0)}#s=e=>{const t=this.toasts.findIndex(n=>n.id===e);return t===-1?null:t};addToast=e=>{ke&&this.toasts.unshift(e)};updateToast=({id:e,data:t,type:n,message:c})=>{const o=this.toasts.findIndex(u=>u.id===e),r=this.toasts[o];this.toasts[o]={...r,...t,id:e,title:c,type:n,updated:!0}};create=e=>{const{message:t,...n}=e,c=typeof e?.id=="number"||e.id&&e.id?.length>0?e.id:W++,o=e.dismissable===void 0?!0:e.dismissable,r=e.type===void 0?"default":e.type;return J(()=>{this.toasts.find(a=>a.id===c)?this.updateToast({id:c,data:e,type:r,message:t,dismissable:o}):this.addToast({...n,id:c,title:t,dismissable:o,type:r})}),c};dismiss=e=>(J(()=>{if(e===void 0){this.toasts=this.toasts.map(n=>({...n,dismiss:!0}));return}const t=this.toasts.findIndex(n=>n.id===e);this.toasts[t]&&(this.toasts[t]={...this.toasts[t],dismiss:!0})}),e);remove=e=>{if(e===void 0){this.toasts=[];return}const t=this.#s(e);if(t!==null)return this.toasts.splice(t,1),e};message=(e,t)=>this.create({...t,type:"default",message:e});error=(e,t)=>this.create({...t,type:"error",message:e});success=(e,t)=>this.create({...t,type:"success",message:e});info=(e,t)=>this.create({...t,type:"info",message:e});warning=(e,t)=>this.create({...t,type:"warning",message:e});loading=(e,t)=>this.create({...t,type:"loading",message:e});promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:typeof t.loading=="string"?t.loading:t.loading()}));const c=e instanceof Promise?e:e();let o=n!==void 0;return c.then(r=>{if(typeof r=="object"&&r&&"ok"in r&&typeof r.ok=="boolean"&&!r.ok){o=!1;const u=Ce(r);this.create({id:n,type:"error",message:u})}else if(t.success!==void 0){o=!1;const u=typeof t.success=="function"?t.success(r):t.success;this.create({id:n,type:"success",message:u})}}).catch(r=>{if(t.error!==void 0){o=!1;const u=typeof t.error=="function"?t.error(r):t.error;this.create({id:n,type:"error",message:u})}}).finally(()=>{o&&(this.dismiss(n),n=void 0),t.finally?.()}),n};custom=(e,t)=>{const n=t?.id||W++;return this.create({component:e,id:n,...t}),n};removeHeight=e=>{this.heights=this.heights.filter(t=>t.toastId!==e)};setHeight=e=>{const t=this.#s(e.toastId);if(t===null){this.heights.push(e);return}this.heights[t]=e};reset=()=>{this.toasts=[],this.heights=[]}}function Ce(s){return s&&typeof s=="object"&&"status"in s?`HTTP error! Status: ${s.status}`:`Error! ${s}`}const _=new He;function Re(s,e){return _.create({message:s,...e})}class qe{#e=xe(()=>_.toasts.filter(e=>!e.dismiss));get toasts(){return D(this.#e)}}const De=Re,ze=Object.assign(De,{success:_.success,info:_.info,warning:_.warning,error:_.error,custom:_.custom,message:_.message,promise:_.promise,dismiss:_.dismiss,loading:_.loading,getActiveToasts:()=>_.toasts.filter(s=>!s.dismiss)});function Pe(s){we.set(s)}function Ue(s){Se.set(s)}function Ve(s){return s}function Ye({defaultMode:s="system",themeColors:e,darkClassNames:t=["dark"],lightClassNames:n=[],defaultTheme:c="",modeStorageKey:o="mode-watcher-mode",themeStorageKey:r="mode-watcher-theme"}){const u=document.documentElement,a=localStorage.getItem(o)||s,d=localStorage.getItem(r)||c,f=a==="light"||a==="system"&&window.matchMedia("(prefers-color-scheme: light)").matches;if(f?(t.length&&u.classList.remove(...t),n.length&&u.classList.add(...n)):(n.length&&u.classList.remove(...n),t.length&&u.classList.add(...t)),u.style.colorScheme=f?"light":"dark",e){const m=document.querySelector('meta[name="theme-color"]');m&&m.setAttribute("content",a==="light"?e.light:e.dark)}d&&(u.setAttribute("data-theme",d),localStorage.setItem(r,d)),localStorage.setItem(o,a)}export{qe as S,Pe as a,Ue as b,Be as c,Ve as d,Ne as e,ze as f,Fe as i,Ye as s,_ as t};
