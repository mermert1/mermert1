const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./XG59f8Xm.js","./mCbEtaVO.js","./D3L8CK3R.js","./CfzJ1ayY.js","../assets/FontAwesomeCSS.DQWymTf3.css"])))=>i.map(i=>d[i]);
import{B as Ri,c as Vi,a as Dr,s as Di,f as Li,b as Bn,i as zi}from"./mCbEtaVO.js";import{bi as Fi,f as Zi,h as ve,d as Hi,bj as Gn,a3 as Ui,l as qi,a4 as Bi,k as Xe,y as Gi,a6 as Ye,aJ as Wi,bk as Xi,bl as Yi,aq as $i,T as Wn,aE as ji,m as Xn,bm as Qi,aw as Ji,z as Ki,p as Lr,v as zr,a as Fr,g as ft,o as ts,t as es,s as Lt,b as ns,c as rs,r as is,ao as ye,x as Yn}from"./D3L8CK3R.js";import{s as ss,c as os}from"./5pMqAvQ_.js";import{p as $n,b as jn}from"./D59Gm4c0.js";import{bD as as,aJ as Zr,bE as ls,bF as us,bG as hs,bH as cs,bj as fs,bI as Qn}from"./xtOvy4NR.js";import{_ as ps}from"./PPVm8Dsz.js";import{i as ds}from"./CfzJ1ayY.js";import{u as ms}from"./BQ_o9tO5.js";const Jn=0,$e=1;function gs(r,t,e,n,i){ve&&Hi();var s=Fi(),l=ji,o=s?Wn(l):Xn(l,!1,!1),u=s?Wn(l):Xn(l,!1,!1),h=new Ri(r);Zi(()=>{var a=t(),c=!1;let f=ve&&Gn(a)===(r.data===Ui);if(f&&(qi(Bi()),Xe(!1)),Gn(a)){var p=Qi(),v=!1;const g=b=>{if(!c){v=!0,p(!1),Wi.ensure(),ve&&Xe(!1);try{b()}finally{Xi(),Yi||$i()}}};a.then(b=>{g(()=>{Ye(o,b),h.ensure($e,n&&(w=>n(w,o)))})},b=>{g(()=>{if(Ye(u,b),h.ensure($e,i&&(w=>i(w,u))),!i)throw u.v})}),ve?h.ensure(Jn,e):Gi(()=>{v||g(()=>{h.ensure(Jn,e)})})}else Ye(o,a),h.ensure($e,n&&(g=>n(g,o)));return f&&Xe(!0),()=>{c=!0}})}function vs(r,t,e){var n=Ki(r,t);n&&n.set&&(r[t]=e,Ji(()=>{r[t]=null}))}let re=!0,Hr,Me,Ur;const ys=1e3,bs=150,qr=as(()=>{re=!0,Hr()},ys),xs=(r,t)=>{Ur?.(),Hr=t;const e=r>bs;re||qr(),re=!e},ws=()=>(Me||(Me=new Promise(r=>{Ur=()=>{Me=void 0,r()}})),re||qr(),re),la=()=>Me??Promise.resolve();var je={exports:{}};var Kn;function Es(){return Kn||(Kn=1,(function(r){(function(t,e,n,i){var s=["","webkit","Moz","MS","ms","o"],l=e.createElement("div"),o="function",u=Math.round,h=Math.abs,a=Date.now;function c(d,m,y){return setTimeout(N(d,y),m)}function f(d,m,y){return Array.isArray(d)?(p(d,y[m],y),!0):!1}function p(d,m,y){var x;if(d)if(d.forEach)d.forEach(m,y);else if(d.length!==i)for(x=0;x<d.length;)m.call(y,d[x],x,d),x++;else for(x in d)d.hasOwnProperty(x)&&m.call(y,d[x],x,d)}function v(d,m,y){var x="DEPRECATED METHOD: "+m+`
`+y+` AT 
`;return function(){var M=new Error("get-stack-trace"),S=M&&M.stack?M.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",L=t.console&&(t.console.warn||t.console.log);return L&&L.call(t.console,x,S),d.apply(this,arguments)}}var g;typeof Object.assign!="function"?g=function(m){if(m===i||m===null)throw new TypeError("Cannot convert undefined or null to object");for(var y=Object(m),x=1;x<arguments.length;x++){var M=arguments[x];if(M!==i&&M!==null)for(var S in M)M.hasOwnProperty(S)&&(y[S]=M[S])}return y}:g=Object.assign;var b=v(function(m,y,x){for(var M=Object.keys(y),S=0;S<M.length;)(!x||x&&m[M[S]]===i)&&(m[M[S]]=y[M[S]]),S++;return m},"extend","Use `assign`."),w=v(function(m,y){return b(m,y,!0)},"merge","Use `assign`.");function T(d,m,y){var x=m.prototype,M;M=d.prototype=Object.create(x),M.constructor=d,M._super=x,y&&g(M,y)}function N(d,m){return function(){return d.apply(m,arguments)}}function A(d,m){return typeof d==o?d.apply(m&&m[0]||i,m):d}function D(d,m){return d===i?m:d}function P(d,m,y){p(G(m),function(x){d.addEventListener(x,y,!1)})}function O(d,m,y){p(G(m),function(x){d.removeEventListener(x,y,!1)})}function C(d,m){for(;d;){if(d==m)return!0;d=d.parentNode}return!1}function R(d,m){return d.indexOf(m)>-1}function G(d){return d.trim().split(/\s+/g)}function U(d,m,y){if(d.indexOf&&!y)return d.indexOf(m);for(var x=0;x<d.length;){if(y&&d[x][y]==m||!y&&d[x]===m)return x;x++}return-1}function z(d){return Array.prototype.slice.call(d,0)}function F(d,m,y){for(var x=[],M=[],S=0;S<d.length;){var L=d[S][m];U(M,L)<0&&x.push(d[S]),M[S]=L,S++}return x=x.sort(function(tt,nt){return tt[m]>nt[m]}),x}function H(d,m){for(var y,x,M=m[0].toUpperCase()+m.slice(1),S=0;S<s.length;){if(y=s[S],x=y?y+M:m,x in d)return x;S++}return i}var Y=1;function W(){return Y++}function Q(d){var m=d.ownerDocument||d;return m.defaultView||m.parentWindow||t}var $=/mobile|tablet|ip(ad|hone|od)|android/i,q="ontouchstart"in t,Z=H(t,"PointerEvent")!==i,rt=q&&$.test(navigator.userAgent),it="touch",It="pen",Zt="mouse",Ve="kinect",De=25,et=1,Rt=2,j=4,st=8,ae=1,Bt=2,Gt=4,Wt=8,Xt=16,yt=Bt|Gt,Vt=Wt|Xt,Sn=yt|Vt,An=["x","y"],le=["clientX","clientY"];function ht(d,m){var y=this;this.manager=d,this.callback=m,this.element=d.element,this.target=d.options.inputTarget,this.domHandler=function(x){A(d.options.enable,[d])&&y.handler(x)},this.init()}ht.prototype={handler:function(){},init:function(){this.evEl&&P(this.element,this.evEl,this.domHandler),this.evTarget&&P(this.target,this.evTarget,this.domHandler),this.evWin&&P(Q(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(Q(this.element),this.evWin,this.domHandler)}};function ai(d){var m,y=d.options.inputClass;return y?m=y:Z?m=ze:rt?m=ce:q?m=Fe:m=he,new m(d,li)}function li(d,m,y){var x=y.pointers.length,M=y.changedPointers.length,S=m&et&&x-M===0,L=m&(j|st)&&x-M===0;y.isFirst=!!S,y.isFinal=!!L,S&&(d.session={}),y.eventType=m,ui(d,y),d.emit("hammer.input",y),d.recognize(y),d.session.prevInput=y}function ui(d,m){var y=d.session,x=m.pointers,M=x.length;y.firstInput||(y.firstInput=_n(m)),M>1&&!y.firstMultiple?y.firstMultiple=_n(m):M===1&&(y.firstMultiple=!1);var S=y.firstInput,L=y.firstMultiple,J=L?L.center:S.center,tt=m.center=Cn(x);m.timeStamp=a(),m.deltaTime=m.timeStamp-S.timeStamp,m.angle=Le(J,tt),m.distance=ue(J,tt),hi(y,m),m.offsetDirection=Nn(m.deltaX,m.deltaY);var nt=On(m.deltaTime,m.deltaX,m.deltaY);m.overallVelocityX=nt.x,m.overallVelocityY=nt.y,m.overallVelocity=h(nt.x)>h(nt.y)?nt.x:nt.y,m.scale=L?pi(L.pointers,x):1,m.rotation=L?fi(L.pointers,x):0,m.maxPointers=y.prevInput?m.pointers.length>y.prevInput.maxPointers?m.pointers.length:y.prevInput.maxPointers:m.pointers.length,ci(y,m);var xt=d.element;C(m.srcEvent.target,xt)&&(xt=m.srcEvent.target),m.target=xt}function hi(d,m){var y=m.center,x=d.offsetDelta||{},M=d.prevDelta||{},S=d.prevInput||{};(m.eventType===et||S.eventType===j)&&(M=d.prevDelta={x:S.deltaX||0,y:S.deltaY||0},x=d.offsetDelta={x:y.x,y:y.y}),m.deltaX=M.x+(y.x-x.x),m.deltaY=M.y+(y.y-x.y)}function ci(d,m){var y=d.lastInterval||m,x=m.timeStamp-y.timeStamp,M,S,L,J;if(m.eventType!=st&&(x>De||y.velocity===i)){var tt=m.deltaX-y.deltaX,nt=m.deltaY-y.deltaY,xt=On(x,tt,nt);S=xt.x,L=xt.y,M=h(xt.x)>h(xt.y)?xt.x:xt.y,J=Nn(tt,nt),d.lastInterval=m}else M=y.velocity,S=y.velocityX,L=y.velocityY,J=y.direction;m.velocity=M,m.velocityX=S,m.velocityY=L,m.direction=J}function _n(d){for(var m=[],y=0;y<d.pointers.length;)m[y]={clientX:u(d.pointers[y].clientX),clientY:u(d.pointers[y].clientY)},y++;return{timeStamp:a(),pointers:m,center:Cn(m),deltaX:d.deltaX,deltaY:d.deltaY}}function Cn(d){var m=d.length;if(m===1)return{x:u(d[0].clientX),y:u(d[0].clientY)};for(var y=0,x=0,M=0;M<m;)y+=d[M].clientX,x+=d[M].clientY,M++;return{x:u(y/m),y:u(x/m)}}function On(d,m,y){return{x:m/d||0,y:y/d||0}}function Nn(d,m){return d===m?ae:h(d)>=h(m)?d<0?Bt:Gt:m<0?Wt:Xt}function ue(d,m,y){y||(y=An);var x=m[y[0]]-d[y[0]],M=m[y[1]]-d[y[1]];return Math.sqrt(x*x+M*M)}function Le(d,m,y){y||(y=An);var x=m[y[0]]-d[y[0]],M=m[y[1]]-d[y[1]];return Math.atan2(M,x)*180/Math.PI}function fi(d,m){return Le(m[1],m[0],le)+Le(d[1],d[0],le)}function pi(d,m){return ue(m[0],m[1],le)/ue(d[0],d[1],le)}var di={mousedown:et,mousemove:Rt,mouseup:j},mi="mousedown",gi="mousemove mouseup";function he(){this.evEl=mi,this.evWin=gi,this.pressed=!1,ht.apply(this,arguments)}T(he,ht,{handler:function(m){var y=di[m.type];y&et&&m.button===0&&(this.pressed=!0),y&Rt&&m.which!==1&&(y=j),this.pressed&&(y&j&&(this.pressed=!1),this.callback(this.manager,y,{pointers:[m],changedPointers:[m],pointerType:Zt,srcEvent:m}))}});var vi={pointerdown:et,pointermove:Rt,pointerup:j,pointercancel:st,pointerout:st},yi={2:it,3:It,4:Zt,5:Ve},Pn="pointerdown",kn="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Pn="MSPointerDown",kn="MSPointerMove MSPointerUp MSPointerCancel");function ze(){this.evEl=Pn,this.evWin=kn,ht.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}T(ze,ht,{handler:function(m){var y=this.store,x=!1,M=m.type.toLowerCase().replace("ms",""),S=vi[M],L=yi[m.pointerType]||m.pointerType,J=L==it,tt=U(y,m.pointerId,"pointerId");S&et&&(m.button===0||J)?tt<0&&(y.push(m),tt=y.length-1):S&(j|st)&&(x=!0),!(tt<0)&&(y[tt]=m,this.callback(this.manager,S,{pointers:y,changedPointers:[m],pointerType:L,srcEvent:m}),x&&y.splice(tt,1))}});var bi={touchstart:et,touchmove:Rt,touchend:j,touchcancel:st},xi="touchstart",wi="touchstart touchmove touchend touchcancel";function In(){this.evTarget=xi,this.evWin=wi,this.started=!1,ht.apply(this,arguments)}T(In,ht,{handler:function(m){var y=bi[m.type];if(y===et&&(this.started=!0),!!this.started){var x=Ei.call(this,m,y);y&(j|st)&&x[0].length-x[1].length===0&&(this.started=!1),this.callback(this.manager,y,{pointers:x[0],changedPointers:x[1],pointerType:it,srcEvent:m})}}});function Ei(d,m){var y=z(d.touches),x=z(d.changedTouches);return m&(j|st)&&(y=F(y.concat(x),"identifier")),[y,x]}var Ti={touchstart:et,touchmove:Rt,touchend:j,touchcancel:st},Mi="touchstart touchmove touchend touchcancel";function ce(){this.evTarget=Mi,this.targetIds={},ht.apply(this,arguments)}T(ce,ht,{handler:function(m){var y=Ti[m.type],x=Si.call(this,m,y);x&&this.callback(this.manager,y,{pointers:x[0],changedPointers:x[1],pointerType:it,srcEvent:m})}});function Si(d,m){var y=z(d.touches),x=this.targetIds;if(m&(et|Rt)&&y.length===1)return x[y[0].identifier]=!0,[y,y];var M,S,L=z(d.changedTouches),J=[],tt=this.target;if(S=y.filter(function(nt){return C(nt.target,tt)}),m===et)for(M=0;M<S.length;)x[S[M].identifier]=!0,M++;for(M=0;M<L.length;)x[L[M].identifier]&&J.push(L[M]),m&(j|st)&&delete x[L[M].identifier],M++;if(J.length)return[F(S.concat(J),"identifier"),J]}var Ai=2500,Rn=25;function Fe(){ht.apply(this,arguments);var d=N(this.handler,this);this.touch=new ce(this.manager,d),this.mouse=new he(this.manager,d),this.primaryTouch=null,this.lastTouches=[]}T(Fe,ht,{handler:function(m,y,x){var M=x.pointerType==it,S=x.pointerType==Zt;if(!(S&&x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents)){if(M)_i.call(this,y,x);else if(S&&Ci.call(this,x))return;this.callback(m,y,x)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function _i(d,m){d&et?(this.primaryTouch=m.changedPointers[0].identifier,Vn.call(this,m)):d&(j|st)&&Vn.call(this,m)}function Vn(d){var m=d.changedPointers[0];if(m.identifier===this.primaryTouch){var y={x:m.clientX,y:m.clientY};this.lastTouches.push(y);var x=this.lastTouches,M=function(){var S=x.indexOf(y);S>-1&&x.splice(S,1)};setTimeout(M,Ai)}}function Ci(d){for(var m=d.srcEvent.clientX,y=d.srcEvent.clientY,x=0;x<this.lastTouches.length;x++){var M=this.lastTouches[x],S=Math.abs(m-M.x),L=Math.abs(y-M.y);if(S<=Rn&&L<=Rn)return!0}return!1}var Dn=H(l.style,"touchAction"),Ln=Dn!==i,zn="compute",Fn="auto",Ze="manipulation",Dt="none",Yt="pan-x",$t="pan-y",fe=Ni();function He(d,m){this.manager=d,this.set(m)}He.prototype={set:function(d){d==zn&&(d=this.compute()),Ln&&this.manager.element.style&&fe[d]&&(this.manager.element.style[Dn]=d),this.actions=d.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var d=[];return p(this.manager.recognizers,function(m){A(m.options.enable,[m])&&(d=d.concat(m.getTouchAction()))}),Oi(d.join(" "))},preventDefaults:function(d){var m=d.srcEvent,y=d.offsetDirection;if(this.manager.session.prevented){m.preventDefault();return}var x=this.actions,M=R(x,Dt)&&!fe[Dt],S=R(x,$t)&&!fe[$t],L=R(x,Yt)&&!fe[Yt];if(M){var J=d.pointers.length===1,tt=d.distance<2,nt=d.deltaTime<250;if(J&&tt&&nt)return}if(!(L&&S)&&(M||S&&y&yt||L&&y&Vt))return this.preventSrc(m)},preventSrc:function(d){this.manager.session.prevented=!0,d.preventDefault()}};function Oi(d){if(R(d,Dt))return Dt;var m=R(d,Yt),y=R(d,$t);return m&&y?Dt:m||y?m?Yt:$t:R(d,Ze)?Ze:Fn}function Ni(){if(!Ln)return!1;var d={},m=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(y){d[y]=m?t.CSS.supports("touch-action",y):!0}),d}var pe=1,ct=2,Ht=4,At=8,Et=At,jt=16,bt=32;function Tt(d){this.options=g({},this.defaults,d||{}),this.id=W(),this.manager=null,this.options.enable=D(this.options.enable,!0),this.state=pe,this.simultaneous={},this.requireFail=[]}Tt.prototype={defaults:{},set:function(d){return g(this.options,d),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(d){if(f(d,"recognizeWith",this))return this;var m=this.simultaneous;return d=de(d,this),m[d.id]||(m[d.id]=d,d.recognizeWith(this)),this},dropRecognizeWith:function(d){return f(d,"dropRecognizeWith",this)?this:(d=de(d,this),delete this.simultaneous[d.id],this)},requireFailure:function(d){if(f(d,"requireFailure",this))return this;var m=this.requireFail;return d=de(d,this),U(m,d)===-1&&(m.push(d),d.requireFailure(this)),this},dropRequireFailure:function(d){if(f(d,"dropRequireFailure",this))return this;d=de(d,this);var m=U(this.requireFail,d);return m>-1&&this.requireFail.splice(m,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(d){return!!this.simultaneous[d.id]},emit:function(d){var m=this,y=this.state;function x(M){m.manager.emit(M,d)}y<At&&x(m.options.event+Zn(y)),x(m.options.event),d.additionalEvent&&x(d.additionalEvent),y>=At&&x(m.options.event+Zn(y))},tryEmit:function(d){if(this.canEmit())return this.emit(d);this.state=bt},canEmit:function(){for(var d=0;d<this.requireFail.length;){if(!(this.requireFail[d].state&(bt|pe)))return!1;d++}return!0},recognize:function(d){var m=g({},d);if(!A(this.options.enable,[this,m])){this.reset(),this.state=bt;return}this.state&(Et|jt|bt)&&(this.state=pe),this.state=this.process(m),this.state&(ct|Ht|At|jt)&&this.tryEmit(m)},process:function(d){},getTouchAction:function(){},reset:function(){}};function Zn(d){return d&jt?"cancel":d&At?"end":d&Ht?"move":d&ct?"start":""}function Hn(d){return d==Xt?"down":d==Wt?"up":d==Bt?"left":d==Gt?"right":""}function de(d,m){var y=m.manager;return y?y.get(d):d}function pt(){Tt.apply(this,arguments)}T(pt,Tt,{defaults:{pointers:1},attrTest:function(d){var m=this.options.pointers;return m===0||d.pointers.length===m},process:function(d){var m=this.state,y=d.eventType,x=m&(ct|Ht),M=this.attrTest(d);return x&&(y&st||!M)?m|jt:x||M?y&j?m|At:m&ct?m|Ht:ct:bt}});function me(){pt.apply(this,arguments),this.pX=null,this.pY=null}T(me,pt,{defaults:{event:"pan",threshold:10,pointers:1,direction:Sn},getTouchAction:function(){var d=this.options.direction,m=[];return d&yt&&m.push($t),d&Vt&&m.push(Yt),m},directionTest:function(d){var m=this.options,y=!0,x=d.distance,M=d.direction,S=d.deltaX,L=d.deltaY;return M&m.direction||(m.direction&yt?(M=S===0?ae:S<0?Bt:Gt,y=S!=this.pX,x=Math.abs(d.deltaX)):(M=L===0?ae:L<0?Wt:Xt,y=L!=this.pY,x=Math.abs(d.deltaY))),d.direction=M,y&&x>m.threshold&&M&m.direction},attrTest:function(d){return pt.prototype.attrTest.call(this,d)&&(this.state&ct||!(this.state&ct)&&this.directionTest(d))},emit:function(d){this.pX=d.deltaX,this.pY=d.deltaY;var m=Hn(d.direction);m&&(d.additionalEvent=this.options.event+m),this._super.emit.call(this,d)}});function Ue(){pt.apply(this,arguments)}T(Ue,pt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(d){return this._super.attrTest.call(this,d)&&(Math.abs(d.scale-1)>this.options.threshold||this.state&ct)},emit:function(d){if(d.scale!==1){var m=d.scale<1?"in":"out";d.additionalEvent=this.options.event+m}this._super.emit.call(this,d)}});function qe(){Tt.apply(this,arguments),this._timer=null,this._input=null}T(qe,Tt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Fn]},process:function(d){var m=this.options,y=d.pointers.length===m.pointers,x=d.distance<m.threshold,M=d.deltaTime>m.time;if(this._input=d,!x||!y||d.eventType&(j|st)&&!M)this.reset();else if(d.eventType&et)this.reset(),this._timer=c(function(){this.state=Et,this.tryEmit()},m.time,this);else if(d.eventType&j)return Et;return bt},reset:function(){clearTimeout(this._timer)},emit:function(d){this.state===Et&&(d&&d.eventType&j?this.manager.emit(this.options.event+"up",d):(this._input.timeStamp=a(),this.manager.emit(this.options.event,this._input)))}});function Be(){pt.apply(this,arguments)}T(Be,pt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Dt]},attrTest:function(d){return this._super.attrTest.call(this,d)&&(Math.abs(d.rotation)>this.options.threshold||this.state&ct)}});function Ge(){pt.apply(this,arguments)}T(Ge,pt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:yt|Vt,pointers:1},getTouchAction:function(){return me.prototype.getTouchAction.call(this)},attrTest:function(d){var m=this.options.direction,y;return m&(yt|Vt)?y=d.overallVelocity:m&yt?y=d.overallVelocityX:m&Vt&&(y=d.overallVelocityY),this._super.attrTest.call(this,d)&&m&d.offsetDirection&&d.distance>this.options.threshold&&d.maxPointers==this.options.pointers&&h(y)>this.options.velocity&&d.eventType&j},emit:function(d){var m=Hn(d.offsetDirection);m&&this.manager.emit(this.options.event+m,d),this.manager.emit(this.options.event,d)}});function ge(){Tt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}T(ge,Tt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ze]},process:function(d){var m=this.options,y=d.pointers.length===m.pointers,x=d.distance<m.threshold,M=d.deltaTime<m.time;if(this.reset(),d.eventType&et&&this.count===0)return this.failTimeout();if(x&&M&&y){if(d.eventType!=j)return this.failTimeout();var S=this.pTime?d.timeStamp-this.pTime<m.interval:!0,L=!this.pCenter||ue(this.pCenter,d.center)<m.posThreshold;this.pTime=d.timeStamp,this.pCenter=d.center,!L||!S?this.count=1:this.count+=1,this._input=d;var J=this.count%m.taps;if(J===0)return this.hasRequireFailures()?(this._timer=c(function(){this.state=Et,this.tryEmit()},m.interval,this),ct):Et}return bt},failTimeout:function(){return this._timer=c(function(){this.state=bt},this.options.interval,this),bt},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Et&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function _t(d,m){return m=m||{},m.recognizers=D(m.recognizers,_t.defaults.preset),new We(d,m)}_t.VERSION="2.0.7",_t.defaults={domEvents:!1,touchAction:zn,enable:!0,inputTarget:null,inputClass:null,preset:[[Be,{enable:!1}],[Ue,{enable:!1},["rotate"]],[Ge,{direction:yt}],[me,{direction:yt},["swipe"]],[ge],[ge,{event:"doubletap",taps:2},["tap"]],[qe]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Pi=1,Un=2;function We(d,m){this.options=g({},_t.defaults,m||{}),this.options.inputTarget=this.options.inputTarget||d,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=d,this.input=ai(this),this.touchAction=new He(this,this.options.touchAction),qn(this,!0),p(this.options.recognizers,function(y){var x=this.add(new y[0](y[1]));y[2]&&x.recognizeWith(y[2]),y[3]&&x.requireFailure(y[3])},this)}We.prototype={set:function(d){return g(this.options,d),d.touchAction&&this.touchAction.update(),d.inputTarget&&(this.input.destroy(),this.input.target=d.inputTarget,this.input.init()),this},stop:function(d){this.session.stopped=d?Un:Pi},recognize:function(d){var m=this.session;if(!m.stopped){this.touchAction.preventDefaults(d);var y,x=this.recognizers,M=m.curRecognizer;(!M||M&&M.state&Et)&&(M=m.curRecognizer=null);for(var S=0;S<x.length;)y=x[S],m.stopped!==Un&&(!M||y==M||y.canRecognizeWith(M))?y.recognize(d):y.reset(),!M&&y.state&(ct|Ht|At)&&(M=m.curRecognizer=y),S++}},get:function(d){if(d instanceof Tt)return d;for(var m=this.recognizers,y=0;y<m.length;y++)if(m[y].options.event==d)return m[y];return null},add:function(d){if(f(d,"add",this))return this;var m=this.get(d.options.event);return m&&this.remove(m),this.recognizers.push(d),d.manager=this,this.touchAction.update(),d},remove:function(d){if(f(d,"remove",this))return this;if(d=this.get(d),d){var m=this.recognizers,y=U(m,d);y!==-1&&(m.splice(y,1),this.touchAction.update())}return this},on:function(d,m){if(d!==i&&m!==i){var y=this.handlers;return p(G(d),function(x){y[x]=y[x]||[],y[x].push(m)}),this}},off:function(d,m){if(d!==i){var y=this.handlers;return p(G(d),function(x){m?y[x]&&y[x].splice(U(y[x],m),1):delete y[x]}),this}},emit:function(d,m){this.options.domEvents&&ki(d,m);var y=this.handlers[d]&&this.handlers[d].slice();if(!(!y||!y.length)){m.type=d,m.preventDefault=function(){m.srcEvent.preventDefault()};for(var x=0;x<y.length;)y[x](m),x++}},destroy:function(){this.element&&qn(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function qn(d,m){var y=d.element;if(y.style){var x;p(d.options.cssProps,function(M,S){x=H(y.style,S),m?(d.oldCssProps[x]=y.style[x],y.style[x]=M):y.style[x]=d.oldCssProps[x]||""}),m||(d.oldCssProps={})}}function ki(d,m){var y=e.createEvent("Event");y.initEvent(d,!0,!0),y.gesture=m,m.target.dispatchEvent(y)}g(_t,{INPUT_START:et,INPUT_MOVE:Rt,INPUT_END:j,INPUT_CANCEL:st,STATE_POSSIBLE:pe,STATE_BEGAN:ct,STATE_CHANGED:Ht,STATE_ENDED:At,STATE_RECOGNIZED:Et,STATE_CANCELLED:jt,STATE_FAILED:bt,DIRECTION_NONE:ae,DIRECTION_LEFT:Bt,DIRECTION_RIGHT:Gt,DIRECTION_UP:Wt,DIRECTION_DOWN:Xt,DIRECTION_HORIZONTAL:yt,DIRECTION_VERTICAL:Vt,DIRECTION_ALL:Sn,Manager:We,Input:ht,TouchAction:He,TouchInput:ce,MouseInput:he,PointerEventInput:ze,TouchMouseInput:Fe,SingleTouchInput:In,Recognizer:Tt,AttrRecognizer:pt,Tap:ge,Pan:me,Swipe:Ge,Pinch:Ue,Rotate:Be,Press:qe,on:P,off:O,each:p,merge:w,extend:b,assign:g,inherit:T,bindFn:N,prefixed:H});var Ii=typeof t<"u"?t:typeof self<"u"?self:{};Ii.Hammer=_t,r.exports?r.exports=_t:t[n]=_t})(window,document,"Hammer")})(je)),je.exports}var Ts=Es();const Ms=Zr(Ts);var Qe,tr;function Ss(){return tr||(tr=1,Qe=(function(){var r="",t,e,n,i=[],s={passive:!0},l={passive:!1};window.addEventListener?(t="addEventListener",e="removeEventListener"):(t="attachEvent",e="detachEvent",r="on"),n="onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll";function o(v,g){var b=function(w){!w&&(w=window.event);var T={originalEvent:w,target:w.target||w.srcElement,type:"wheel",deltaMode:w.type=="MozMousePixelScroll"?0:1,deltaX:0,delatZ:0,preventDefault:function(){w.preventDefault?w.preventDefault():w.returnValue=!1}};return n=="mousewheel"?(T.deltaY=-.025*w.wheelDelta,w.wheelDeltaX&&(T.deltaX=-.025*w.wheelDeltaX)):T.deltaY=w.detail,g(T)};return i.push({element:v,fn:b}),b}function u(v){for(var g=0;g<i.length;g++)if(i[g].element===v)return i[g].fn;return function(){}}function h(v){for(var g=0;g<i.length;g++)if(i[g].element===v)return i.splice(g,1)}function a(v,g,b,w){var T;n==="wheel"?T=b:T=o(v,b),v[t](r+g,T,w?s:l)}function c(v,g,b,w){var T;n==="wheel"?T=b:T=u(v),v[e](r+g,T,w?s:l),h(v)}function f(v,g,b){a(v,n,g,b),n=="DOMMouseScroll"&&a(v,"MozMousePixelScroll",g,b)}function p(v,g,b){c(v,n,g,b),n=="DOMMouseScroll"&&c(v,"MozMousePixelScroll",g,b)}return{on:f,off:p}})()),Qe}var Je,er;function bn(){if(er)return Je;er=1,Je={extend:function(t,e){t=t||{};for(var n in e)this.isObject(e[n])?t[n]=this.extend(t[n],e[n]):t[n]=e[n];return t},isElement:function(t){return t instanceof HTMLElement||t instanceof SVGElement||t instanceof SVGSVGElement||t&&typeof t=="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName=="string"},isObject:function(t){return Object.prototype.toString.call(t)==="[object Object]"},isNumber:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},getSvg:function(t){var e,n;if(this.isElement(t))e=t;else if(typeof t=="string"||t instanceof String){if(e=document.querySelector(t),!e)throw new Error("Provided selector did not find any elements. Selector: "+t)}else throw new Error("Provided selector is not an HTML object nor String");if(e.tagName.toLowerCase()==="svg")n=e;else if(e.tagName.toLowerCase()==="object")n=e.contentDocument.documentElement;else if(e.tagName.toLowerCase()==="embed")n=e.getSVGDocument().documentElement;else throw e.tagName.toLowerCase()==="img"?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");return n},proxy:function(t,e){return function(){return t.apply(e,arguments)}},getType:function(t){return Object.prototype.toString.apply(t).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(t,e){if(t.clientX===void 0||t.clientX===null)if(t.clientX=0,t.clientY=0,t.touches!==void 0&&t.touches.length){if(t.touches[0].clientX!==void 0)t.clientX=t.touches[0].clientX,t.clientY=t.touches[0].clientY;else if(t.touches[0].pageX!==void 0){var n=e.getBoundingClientRect();t.clientX=t.touches[0].pageX-n.left,t.clientY=t.touches[0].pageY-n.top}}else t.originalEvent!==void 0&&t.originalEvent.clientX!==void 0&&(t.clientX=t.originalEvent.clientX,t.clientY=t.originalEvent.clientY)},isDblClick:function(t,e){if(t.detail===2)return!0;if(e!=null){var n=t.timeStamp-e.timeStamp,i=Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return new Date().getTime()},throttle:function(t,e,n){var i=this,s,l,o,u=null,h=0;n||(n={});var a=function(){h=n.leading===!1?0:i.now(),u=null,o=t.apply(s,l),u||(s=l=null)};return function(){var c=i.now();!h&&n.leading===!1&&(h=c);var f=e-(c-h);return s=this,l=arguments,f<=0||f>e?(clearTimeout(u),u=null,h=c,o=t.apply(s,l),u||(s=l=null)):!u&&n.trailing!==!1&&(u=setTimeout(a,f)),o}},createRequestAnimationFrame:function(t){var e=null;return t!=="auto"&&t<60&&t>1&&(e=Math.floor(1e3/t)),e===null?window.requestAnimationFrame||r(33):r(e)}};function r(t){return function(e){window.setTimeout(e,t)}}return Je}var Qt,nr;function xn(){if(nr)return Qt;nr=1;var r=bn(),t="unknown";return document.documentMode&&(t="ie"),Qt={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,n){var i=null;if(r.isElement(n)?i=n:i=e.querySelector(n),!i){var s=Array.prototype.slice.call(e.childNodes||e.children).filter(function(a){return a.nodeName!=="defs"&&a.nodeName!=="#text"});s.length===1&&s[0].nodeName==="g"&&s[0].getAttribute("transform")===null&&(i=s[0])}if(!i){var l="viewport-"+new Date().toISOString().replace(/\D/g,"");i=document.createElementNS(this.svgNS,"g"),i.setAttribute("id",l);var o=e.childNodes||e.children;if(o&&o.length>0)for(var u=o.length;u>0;u--)o[o.length-u].nodeName!=="defs"&&i.appendChild(o[o.length-u]);e.appendChild(i)}var h=[];return i.getAttribute("class")&&(h=i.getAttribute("class").split(" ")),~h.indexOf("svg-pan-zoom_viewport")||(h.push("svg-pan-zoom_viewport"),i.setAttribute("class",h.join(" "))),i},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),e.parentNode!==null){var n=e.getAttribute("style")||"";n.toLowerCase().indexOf("overflow")===-1&&e.setAttribute("style","overflow: hidden; "+n)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:r.throttle(function(){for(var e=document.querySelectorAll("defs"),n=e.length,i=0;i<n;i++){var s=e[i];s.parentNode.insertBefore(s,s)}},Qt?Qt.internetExplorerRedisplayInterval:null),setCTM:function(e,n,i){var s=this,l="matrix("+n.a+","+n.b+","+n.c+","+n.d+","+n.e+","+n.f+")";e.setAttributeNS(null,"transform",l),"transform"in e.style?e.style.transform=l:"-ms-transform"in e.style?e.style["-ms-transform"]=l:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=l),t==="ie"&&i&&(i.parentNode.insertBefore(i,i),window.setTimeout(function(){s.refreshDefsGlobal()},s.internetExplorerRedisplayInterval))},getEventPoint:function(e,n){var i=n.createSVGPoint();return r.mouseAndTouchNormalize(e,n),i.x=e.clientX,i.y=e.clientY,i},getSvgCenterPoint:function(e,n,i){return this.createSVGPoint(e,n/2,i/2)},createSVGPoint:function(e,n,i){var s=e.createSVGPoint();return s.x=n,s.y=i,s}},Qt}var Ke,rr;function As(){if(rr)return Ke;rr=1;var r=xn();return Ke={enable:function(t){var e=t.svg.querySelector("defs");e||(e=document.createElementNS(r.svgNS,"defs"),t.svg.appendChild(e));var n=e.querySelector("style#svg-pan-zoom-controls-styles");if(!n){var i=document.createElementNS(r.svgNS,"style");i.setAttribute("id","svg-pan-zoom-controls-styles"),i.setAttribute("type","text/css"),i.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",e.appendChild(i)}var s=document.createElementNS(r.svgNS,"g");s.setAttribute("id","svg-pan-zoom-controls"),s.setAttribute("transform","translate("+(t.width-70)+" "+(t.height-76)+") scale(0.75)"),s.setAttribute("class","svg-pan-zoom-control"),s.appendChild(this._createZoomIn(t)),s.appendChild(this._createZoomReset(t)),s.appendChild(this._createZoomOut(t)),t.svg.appendChild(s),t.controlIcons=s},_createZoomIn:function(t){var e=document.createElementNS(r.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-in"),e.setAttribute("transform","translate(30.5 5) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomIn()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomIn()},!1);var n=document.createElementNS(r.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(r.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},_createZoomReset:function(t){var e=document.createElementNS(r.svgNS,"g");e.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),e.setAttribute("transform","translate(5 35) scale(0.4)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().reset()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().reset()},!1);var n=document.createElementNS(r.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(r.svgNS,"path");i.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i);var s=document.createElementNS(r.svgNS,"path");return s.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),s.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(s),e},_createZoomOut:function(t){var e=document.createElementNS(r.svgNS,"g");e.setAttribute("id","svg-pan-zoom-zoom-out"),e.setAttribute("transform","translate(30.5 70) scale(0.015)"),e.setAttribute("class","svg-pan-zoom-control"),e.addEventListener("click",function(){t.getPublicInstance().zoomOut()},!1),e.addEventListener("touchstart",function(){t.getPublicInstance().zoomOut()},!1);var n=document.createElementNS(r.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),e.appendChild(n);var i=document.createElementNS(r.svgNS,"path");return i.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),i.setAttribute("class","svg-pan-zoom-control-element"),e.appendChild(i),e},disable:function(t){t.controlIcons&&(t.controlIcons.parentNode.removeChild(t.controlIcons),t.controlIcons=null)}},Ke}var tn,ir;function _s(){if(ir)return tn;ir=1;var r=xn(),t=bn(),e=function(n,i){this.init(n,i)};return e.prototype.init=function(n,i){this.viewport=n,this.options=i,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=t.proxy(this.updateCTM,this),this.requestAnimationFrame=t.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var s=this.processCTM();this.setCTM(s),this.updateCTM()},e.prototype.cacheViewBox=function(){var n=this.options.svg.getAttribute("viewBox");if(n){var i=n.split(/[\s\,]/).filter(function(l){return l}).map(parseFloat);this.viewBox.x=i[0],this.viewBox.y=i[1],this.viewBox.width=i[2],this.viewBox.height=i[3];var s=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=s,this.activeState.x=(this.options.width-this.viewBox.width*s)/2,this.activeState.y=(this.options.height-this.viewBox.height*s)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},e.prototype.simpleViewBoxCache=function(){var n=this.viewport.getBBox();this.viewBox.x=n.x,this.viewBox.y=n.y,this.viewBox.width=n.width,this.viewBox.height=n.height},e.prototype.getViewBox=function(){return t.extend({},this.viewBox)},e.prototype.processCTM=function(){var n=this.getCTM();if(this.options.fit||this.options.contain){var i;this.options.fit?i=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):i=Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),n.a=i,n.d=i,n.e=-this.viewBox.x*i,n.f=-this.viewBox.y*i}if(this.options.center){var s=(this.options.width-(this.viewBox.width+this.viewBox.x*2)*n.a)*.5,l=(this.options.height-(this.viewBox.height+this.viewBox.y*2)*n.a)*.5;n.e=s,n.f=l}return this.originalState.zoom=n.a,this.originalState.x=n.e,this.originalState.y=n.f,n},e.prototype.getOriginalState=function(){return t.extend({},this.originalState)},e.prototype.getState=function(){return t.extend({},this.activeState)},e.prototype.getZoom=function(){return this.activeState.zoom},e.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},e.prototype.computeRelativeZoom=function(n){return n/this.originalState.zoom},e.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},e.prototype.getCTM=function(){var n=this.options.svg.createSVGMatrix();return n.a=this.activeState.zoom,n.b=0,n.c=0,n.d=this.activeState.zoom,n.e=this.activeState.x,n.f=this.activeState.y,n},e.prototype.setCTM=function(n){var i=this.isZoomDifferent(n),s=this.isPanDifferent(n);if(i||s){if(i&&(this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(n.a))===!1?(n.a=n.d=this.activeState.zoom,i=!1):(this.updateCache(n),this.options.onZoom(this.getRelativeZoom()))),s){var l=this.options.beforePan(this.getPan(),{x:n.e,y:n.f}),o=!1,u=!1;l===!1?(n.e=this.getPan().x,n.f=this.getPan().y,o=u=!0):t.isObject(l)&&(l.x===!1?(n.e=this.getPan().x,o=!0):t.isNumber(l.x)&&(n.e=l.x),l.y===!1?(n.f=this.getPan().y,u=!0):t.isNumber(l.y)&&(n.f=l.y)),o&&u||!this.isPanDifferent(n)?s=!1:(this.updateCache(n),this.options.onPan(this.getPan()))}(i||s)&&this.updateCTMOnNextFrame()}},e.prototype.isZoomDifferent=function(n){return this.activeState.zoom!==n.a},e.prototype.isPanDifferent=function(n){return this.activeState.x!==n.e||this.activeState.y!==n.f},e.prototype.updateCache=function(n){this.activeState.zoom=n.a,this.activeState.x=n.e,this.activeState.y=n.f},e.prototype.pendingUpdate=!1,e.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},e.prototype.updateCTM=function(){var n=this.getCTM();r.setCTM(this.viewport,n,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(n)},tn=function(n,i){return new e(n,i)},tn}var en,sr;function Cs(){if(sr)return en;sr=1;var r=Ss(),t=As(),e=bn(),n=xn(),i=_s(),s=function(a,c){this.init(a,c)},l={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},o={passive:!0};s.prototype.init=function(a,c){var f=this;this.svg=a,this.defs=a.querySelector("defs"),n.setupSvgAttributes(this.svg),this.options=e.extend(e.extend({},l),c),this.state="none";var p=n.getBoundingClientRectNormalized(a);this.width=p.width,this.height=p.height,this.viewport=i(n.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(g,b){if(f.viewport&&f.options.beforeZoom)return f.options.beforeZoom(g,b)},onZoom:function(g){if(f.viewport&&f.options.onZoom)return f.options.onZoom(g)},beforePan:function(g,b){if(f.viewport&&f.options.beforePan)return f.options.beforePan(g,b)},onPan:function(g){if(f.viewport&&f.options.onPan)return f.options.onPan(g)},onUpdatedCTM:function(g){if(f.viewport&&f.options.onUpdatedCTM)return f.options.onUpdatedCTM(g)}});var v=this.getPublicInstance();v.setBeforeZoom(this.options.beforeZoom),v.setOnZoom(this.options.onZoom),v.setBeforePan(this.options.beforePan),v.setOnPan(this.options.onPan),v.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&t.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},s.prototype.setupHandlers=function(){var a=this,c=null;if(this.eventListeners={mousedown:function(g){var b=a.handleMouseDown(g,c);return c=g,b},touchstart:function(g){var b=a.handleMouseDown(g,c);return c=g,b},mouseup:function(g){return a.handleMouseUp(g)},touchend:function(g){return a.handleMouseUp(g)},mousemove:function(g){return a.handleMouseMove(g)},touchmove:function(g){return a.handleMouseMove(g)},mouseleave:function(g){return a.handleMouseUp(g)},touchleave:function(g){return a.handleMouseUp(g)},touchcancel:function(g){return a.handleMouseUp(g)}},this.options.customEventsHandler!=null){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var f=this.options.customEventsHandler.haltEventListeners;if(f&&f.length)for(var p=f.length-1;p>=0;p--)this.eventListeners.hasOwnProperty(f[p])&&delete this.eventListeners[f[p]]}for(var v in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(v,this.eventListeners[v],this.options.preventMouseEventsDefault?!1:o);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},s.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var a=this;this.wheelListener=function(f){return a.handleMouseWheel(f)};var c=!this.options.preventMouseEventsDefault;r.on(this.options.eventsListenerElement||this.svg,this.wheelListener,c),this.options.mouseWheelZoomEnabled=!0}},s.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var a=!this.options.preventMouseEventsDefault;r.off(this.options.eventsListenerElement||this.svg,this.wheelListener,a),this.options.mouseWheelZoomEnabled=!1}},s.prototype.handleMouseWheel=function(a){if(!(!this.options.zoomEnabled||this.state!=="none")){this.options.preventMouseEventsDefault&&(a.preventDefault?a.preventDefault():a.returnValue=!1);var c=a.deltaY||1,f=Date.now()-this.lastMouseWheelEventTime,p=3+Math.max(0,30-f);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in a&&a.deltaMode===0&&a.wheelDelta&&(c=a.deltaY===0?0:Math.abs(a.wheelDelta)/a.deltaY),c=-.3<c&&c<.3?c:(c>0?1:-1)*Math.log(Math.abs(c)+10)/p;var v=this.svg.getScreenCTM().inverse(),g=n.getEventPoint(a,this.svg).matrixTransform(v),b=Math.pow(1+this.options.zoomScaleSensitivity,-1*c);this.zoomAtPoint(b,g)}},s.prototype.zoomAtPoint=function(a,c,f){var p=this.viewport.getOriginalState();f?(a=Math.max(this.options.minZoom*p.zoom,Math.min(this.options.maxZoom*p.zoom,a)),a=a/this.getZoom()):this.getZoom()*a<this.options.minZoom*p.zoom?a=this.options.minZoom*p.zoom/this.getZoom():this.getZoom()*a>this.options.maxZoom*p.zoom&&(a=this.options.maxZoom*p.zoom/this.getZoom());var v=this.viewport.getCTM(),g=c.matrixTransform(v.inverse()),b=this.svg.createSVGMatrix().translate(g.x,g.y).scale(a).translate(-g.x,-g.y),w=v.multiply(b);w.a!==v.a&&this.viewport.setCTM(w)},s.prototype.zoom=function(a,c){this.zoomAtPoint(a,n.getSvgCenterPoint(this.svg,this.width,this.height),c)},s.prototype.publicZoom=function(a,c){c&&(a=this.computeFromRelativeZoom(a)),this.zoom(a,c)},s.prototype.publicZoomAtPoint=function(a,c,f){if(f&&(a=this.computeFromRelativeZoom(a)),e.getType(c)!=="SVGPoint")if("x"in c&&"y"in c)c=n.createSVGPoint(this.svg,c.x,c.y);else throw new Error("Given point is invalid");this.zoomAtPoint(a,c,f)},s.prototype.getZoom=function(){return this.viewport.getZoom()},s.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},s.prototype.computeFromRelativeZoom=function(a){return a*this.viewport.getOriginalState().zoom},s.prototype.resetZoom=function(){var a=this.viewport.getOriginalState();this.zoom(a.zoom,!0)},s.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},s.prototype.reset=function(){this.resetZoom(),this.resetPan()},s.prototype.handleDblClick=function(a){if(this.options.preventMouseEventsDefault&&(a.preventDefault?a.preventDefault():a.returnValue=!1),this.options.controlIconsEnabled){var c=a.target.getAttribute("class")||"";if(c.indexOf("svg-pan-zoom-control")>-1)return!1}var f;a.shiftKey?f=1/((1+this.options.zoomScaleSensitivity)*2):f=(1+this.options.zoomScaleSensitivity)*2;var p=n.getEventPoint(a,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(f,p)},s.prototype.handleMouseDown=function(a,c){this.options.preventMouseEventsDefault&&(a.preventDefault?a.preventDefault():a.returnValue=!1),e.mouseAndTouchNormalize(a,this.svg),this.options.dblClickZoomEnabled&&e.isDblClick(a,c)?this.handleDblClick(a):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=n.getEventPoint(a,this.svg).matrixTransform(this.firstEventCTM.inverse()))},s.prototype.handleMouseMove=function(a){if(this.options.preventMouseEventsDefault&&(a.preventDefault?a.preventDefault():a.returnValue=!1),this.state==="pan"&&this.options.panEnabled){var c=n.getEventPoint(a,this.svg).matrixTransform(this.firstEventCTM.inverse()),f=this.firstEventCTM.translate(c.x-this.stateOrigin.x,c.y-this.stateOrigin.y);this.viewport.setCTM(f)}},s.prototype.handleMouseUp=function(a){this.options.preventMouseEventsDefault&&(a.preventDefault?a.preventDefault():a.returnValue=!1),this.state==="pan"&&(this.state="none")},s.prototype.fit=function(){var a=this.viewport.getViewBox(),c=Math.min(this.width/a.width,this.height/a.height);this.zoom(c,!0)},s.prototype.contain=function(){var a=this.viewport.getViewBox(),c=Math.max(this.width/a.width,this.height/a.height);this.zoom(c,!0)},s.prototype.center=function(){var a=this.viewport.getViewBox(),c=(this.width-(a.width+a.x*2)*this.getZoom())*.5,f=(this.height-(a.height+a.y*2)*this.getZoom())*.5;this.getPublicInstance().pan({x:c,y:f})},s.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},s.prototype.pan=function(a){var c=this.viewport.getCTM();c.e=a.x,c.f=a.y,this.viewport.setCTM(c)},s.prototype.panBy=function(a){var c=this.viewport.getCTM();c.e+=a.x,c.f+=a.y,this.viewport.setCTM(c)},s.prototype.getPan=function(){var a=this.viewport.getState();return{x:a.x,y:a.y}},s.prototype.resize=function(){var a=n.getBoundingClientRectNormalized(this.svg);this.width=a.width,this.height=a.height;var c=this.viewport;c.options.width=this.width,c.options.height=this.height,c.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},s.prototype.destroy=function(){var a=this;this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,this.options.customEventsHandler!=null&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});for(var c in this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(c,this.eventListeners[c],this.options.preventMouseEventsDefault?!1:o);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),u=u.filter(function(f){return f.svg!==a.svg}),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},s.prototype.getPublicInstance=function(){var a=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return a.options.panEnabled=!0,a.pi},disablePan:function(){return a.options.panEnabled=!1,a.pi},isPanEnabled:function(){return!!a.options.panEnabled},pan:function(c){return a.pan(c),a.pi},panBy:function(c){return a.panBy(c),a.pi},getPan:function(){return a.getPan()},setBeforePan:function(c){return a.options.beforePan=c===null?null:e.proxy(c,a.publicInstance),a.pi},setOnPan:function(c){return a.options.onPan=c===null?null:e.proxy(c,a.publicInstance),a.pi},enableZoom:function(){return a.options.zoomEnabled=!0,a.pi},disableZoom:function(){return a.options.zoomEnabled=!1,a.pi},isZoomEnabled:function(){return!!a.options.zoomEnabled},enableControlIcons:function(){return a.options.controlIconsEnabled||(a.options.controlIconsEnabled=!0,t.enable(a)),a.pi},disableControlIcons:function(){return a.options.controlIconsEnabled&&(a.options.controlIconsEnabled=!1,t.disable(a)),a.pi},isControlIconsEnabled:function(){return!!a.options.controlIconsEnabled},enableDblClickZoom:function(){return a.options.dblClickZoomEnabled=!0,a.pi},disableDblClickZoom:function(){return a.options.dblClickZoomEnabled=!1,a.pi},isDblClickZoomEnabled:function(){return!!a.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return a.enableMouseWheelZoom(),a.pi},disableMouseWheelZoom:function(){return a.disableMouseWheelZoom(),a.pi},isMouseWheelZoomEnabled:function(){return!!a.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(c){return a.options.zoomScaleSensitivity=c,a.pi},setMinZoom:function(c){return a.options.minZoom=c,a.pi},setMaxZoom:function(c){return a.options.maxZoom=c,a.pi},setBeforeZoom:function(c){return a.options.beforeZoom=c===null?null:e.proxy(c,a.publicInstance),a.pi},setOnZoom:function(c){return a.options.onZoom=c===null?null:e.proxy(c,a.publicInstance),a.pi},zoom:function(c){return a.publicZoom(c,!0),a.pi},zoomBy:function(c){return a.publicZoom(c,!1),a.pi},zoomAtPoint:function(c,f){return a.publicZoomAtPoint(c,f,!0),a.pi},zoomAtPointBy:function(c,f){return a.publicZoomAtPoint(c,f,!1),a.pi},zoomIn:function(){return this.zoomBy(1+a.options.zoomScaleSensitivity),a.pi},zoomOut:function(){return this.zoomBy(1/(1+a.options.zoomScaleSensitivity)),a.pi},getZoom:function(){return a.getRelativeZoom()},setOnUpdatedCTM:function(c){return a.options.onUpdatedCTM=c===null?null:e.proxy(c,a.publicInstance),a.pi},resetZoom:function(){return a.resetZoom(),a.pi},resetPan:function(){return a.resetPan(),a.pi},reset:function(){return a.reset(),a.pi},fit:function(){return a.fit(),a.pi},contain:function(){return a.contain(),a.pi},center:function(){return a.center(),a.pi},updateBBox:function(){return a.updateBBox(),a.pi},resize:function(){return a.resize(),a.pi},getSizes:function(){return{width:a.width,height:a.height,realZoom:a.getZoom(),viewBox:a.viewport.getViewBox()}},destroy:function(){return a.destroy(),a.pi}}),this.publicInstance};var u=[],h=function(a,c){var f=e.getSvg(a);if(f===null)return null;for(var p=u.length-1;p>=0;p--)if(u[p].svg===f)return u[p].instance.getPublicInstance();return u.push({svg:f,instance:new s(f,c)}),u[u.length-1].instance.getPublicInstance()};return en=h,en}var Os=Cs();const Ns=Zr(Os);class Ps{pan;zoom;pzoom;isDirty=!1;resizeObserver;isPanEnabled;onPanZoomChange;constructor(){this.isPanEnabled=!0,this.resizeObserver=new ResizeObserver(()=>{this.resize(),this.isDirty||this.reset()})}updateElement(t,{pan:e,zoom:n}){this.pzoom?.destroy();let i;this.pzoom=Ns(t,{center:!0,controlIconsEnabled:!1,customEventsHandler:{haltEventListeners:["touchstart","touchend","touchmove","touchleave","touchcancel"],init:function(s){const l=s.instance;let o=1,u=0,h=0;i=new Ms(s.svgElement);const a=()=>{u=0,h=0},c=f=>{l.panBy({x:f.deltaX-u,y:f.deltaY-h}),u=f.deltaX,h=f.deltaY};i.get("pinch").set({enable:!0}),i.on("panstart panmove",function(f){f.type==="panstart"&&a(),c(f)}),i.on("pinchstart pinchmove",function(f){f.type==="pinchstart"&&(o=l.getZoom(),a()),l.zoomAtPoint(o*f.scale,{x:f.center.x,y:f.center.y}),c(f)}),s.svgElement.addEventListener("touchmove",function(f){f.preventDefault()})},destroy:function(){i?.destroy()}},fit:!0,maxZoom:12,minZoom:.2,onPan:s=>{this.pan=s,this.zoom=this.pzoom?.getZoom(),this.isDirty=!0,this.zoom&&this.onPanZoomChange?.(this.pan,this.zoom)},onZoom:s=>{this.zoom=s,this.pan=this.pzoom?.getPan(),this.isDirty=!0,this.pan&&this.onPanZoomChange?.(this.pan,this.zoom)},panEnabled:!0,zoomEnabled:!0}),this.pzoom.disableDblClickZoom(),this.resizeObserver.disconnect(),this.resizeObserver.observe(t),e&&n&&Number.isFinite(n)&&Number.isFinite(e.x)&&Number.isFinite(e.y)?this.restorePanZoom(e,n):this.reset(),this.isPanEnabled?(this.pzoom.enablePan(),this.pzoom.enableZoom()):(this.pzoom.disableZoom(),this.pzoom.disablePan()),e===void 0&&n===void 0&&this.reset()}restorePanZoom(t,e){if(!this.pzoom){console.error("PanZoomState.restorePanZoom: pzoom is not initialized");return}this.pzoom.zoom(e),this.pzoom.pan(t)}resize(){this.pzoom?.resize(),this.isDirty||this.reset()}zoomIn(){this.pzoom?.zoomIn()}zoomOut(){this.pzoom?.zoomOut()}reset(){this.pzoom?.reset(),this.pzoom?.zoom(.875),this.isDirty=!1}}function ks(r){return/fa[blrs]?:fa-[\w-]+/g.test(r)}function Is(r,t){Lr(t,!1);let e=ps(()=>import("./XG59f8Xm.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url),n=(async()=>{await e,await Promise.allSettled(Array.from(document.fonts,u=>u.load()))})();async function i(){return await n}var s={waitForFontAwesomeToLoad:i};ds();var l=Vi(),o=zr(l);return gs(o,()=>e,null,(u,h)=>{ft(h).default(u,{})}),Dr(r,l),vs(t,"waitForFontAwesomeToLoad",i),Fr(s)}function cn(r,t,e){if(r&&r.length){const[n,i]=t,s=Math.PI/180*e,l=Math.cos(s),o=Math.sin(s);for(const u of r){const[h,a]=u;u[0]=(h-n)*l-(a-i)*o+n,u[1]=(h-n)*o+(a-i)*l+i}}}function Rs(r,t,e){const n=[];r.forEach(i=>n.push(...i)),cn(n,t,e)}function Vs(r,t){return r[0]===t[0]&&r[1]===t[1]}function Ds(r,t,e,n=1){const i=e,s=Math.max(t,.1),l=r[0]&&r[0][0]&&typeof r[0][0]=="number"?[r]:r,o=[0,0];if(i)for(const h of l)cn(h,o,i);const u=Ls(l,s,n);if(i){for(const h of l)cn(h,o,-i);Rs(u,o,-i)}return u}function Ls(r,t,e){const n=[];for(const h of r){const a=[...h];Vs(a[0],a[a.length-1])||a.push([a[0][0],a[0][1]]),a.length>2&&n.push(a)}const i=[];t=Math.max(t,.1);const s=[];for(const h of n)for(let a=0;a<h.length-1;a++){const c=h[a],f=h[a+1];if(c[1]!==f[1]){const p=Math.min(c[1],f[1]);s.push({ymin:p,ymax:Math.max(c[1],f[1]),x:p===c[1]?c[0]:f[0],islope:(f[0]-c[0])/(f[1]-c[1])})}}if(s.sort((h,a)=>h.ymin<a.ymin?-1:h.ymin>a.ymin?1:h.x<a.x?-1:h.x>a.x?1:h.ymax===a.ymax?0:(h.ymax-a.ymax)/Math.abs(h.ymax-a.ymax)),!s.length)return i;let l=[],o=s[0].ymin,u=0;for(;l.length||s.length;){if(s.length){let h=-1;for(let c=0;c<s.length&&!(s[c].ymin>o);c++)h=c;s.splice(0,h+1).forEach(c=>{l.push({s:o,edge:c})})}if(l=l.filter(h=>!(h.edge.ymax<=o)),l.sort((h,a)=>h.edge.x===a.edge.x?0:(h.edge.x-a.edge.x)/Math.abs(h.edge.x-a.edge.x)),(e!==1||u%t===0)&&l.length>1)for(let h=0;h<l.length;h=h+2){const a=h+1;if(a>=l.length)break;const c=l[h].edge,f=l[a].edge;i.push([[Math.round(c.x),o],[Math.round(f.x),o]])}o+=e,l.forEach(h=>{h.edge.x=h.edge.x+e*h.edge.islope}),u++}return i}function oe(r,t){var e;const n=t.hachureAngle+90;let i=t.hachureGap;i<0&&(i=t.strokeWidth*4),i=Math.round(Math.max(i,.1));let s=1;return t.roughness>=1&&(((e=t.randomizer)===null||e===void 0?void 0:e.next())||Math.random())>.7&&(s=i),Ds(r,i,n,s||1)}class wn{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const n=oe(t,e);return{type:"fillSketch",ops:this.renderLines(n,e)}}renderLines(t,e){const n=[];for(const i of t)n.push(...this.helper.doubleLineOps(i[0][0],i[0][1],i[1][0],i[1][1],e));return n}}function Ie(r){const t=r[0],e=r[1];return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}class zs extends wn{fillPolygons(t,e){let n=e.hachureGap;n<0&&(n=e.strokeWidth*4),n=Math.max(n,.1);const i=Object.assign({},e,{hachureGap:n}),s=oe(t,i),l=Math.PI/180*e.hachureAngle,o=[],u=n*.5*Math.cos(l),h=n*.5*Math.sin(l);for(const[c,f]of s)Ie([c,f])&&o.push([[c[0]-u,c[1]+h],[...f]],[[c[0]+u,c[1]-h],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,e)}}}class Fs extends wn{fillPolygons(t,e){const n=this._fillPolygons(t,e),i=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),s=this._fillPolygons(t,i);return n.ops=n.ops.concat(s.ops),n}}class Zs{constructor(t){this.helper=t}fillPolygons(t,e){e=Object.assign({},e,{hachureAngle:0});const n=oe(t,e);return this.dotsOnLines(n,e)}dotsOnLines(t,e){const n=[];let i=e.hachureGap;i<0&&(i=e.strokeWidth*4),i=Math.max(i,.1);let s=e.fillWeight;s<0&&(s=e.strokeWidth/2);const l=i/4;for(const o of t){const u=Ie(o),h=u/i,a=Math.ceil(h)-1,c=u-a*i,f=(o[0][0]+o[1][0])/2-i/4,p=Math.min(o[0][1],o[1][1]);for(let v=0;v<a;v++){const g=p+c+v*i,b=f-l+Math.random()*2*l,w=g-l+Math.random()*2*l,T=this.helper.ellipse(b,w,s,s,e);n.push(...T.ops)}}return{type:"fillSketch",ops:n}}}class Hs{constructor(t){this.helper=t}fillPolygons(t,e){const n=oe(t,e);return{type:"fillSketch",ops:this.dashedLine(n,e)}}dashedLine(t,e){const n=e.dashOffset<0?e.hachureGap<0?e.strokeWidth*4:e.hachureGap:e.dashOffset,i=e.dashGap<0?e.hachureGap<0?e.strokeWidth*4:e.hachureGap:e.dashGap,s=[];return t.forEach(l=>{const o=Ie(l),u=Math.floor(o/(n+i)),h=(o+i-u*(n+i))/2;let a=l[0],c=l[1];a[0]>c[0]&&(a=l[1],c=l[0]);const f=Math.atan((c[1]-a[1])/(c[0]-a[0]));for(let p=0;p<u;p++){const v=p*(n+i),g=v+n,b=[a[0]+v*Math.cos(f)+h*Math.cos(f),a[1]+v*Math.sin(f)+h*Math.sin(f)],w=[a[0]+g*Math.cos(f)+h*Math.cos(f),a[1]+g*Math.sin(f)+h*Math.sin(f)];s.push(...this.helper.doubleLineOps(b[0],b[1],w[0],w[1],e))}}),s}}class Us{constructor(t){this.helper=t}fillPolygons(t,e){const n=e.hachureGap<0?e.strokeWidth*4:e.hachureGap,i=e.zigzagOffset<0?n:e.zigzagOffset;e=Object.assign({},e,{hachureGap:n+i});const s=oe(t,e);return{type:"fillSketch",ops:this.zigzagLines(s,i,e)}}zigzagLines(t,e,n){const i=[];return t.forEach(s=>{const l=Ie(s),o=Math.round(l/(2*e));let u=s[0],h=s[1];u[0]>h[0]&&(u=s[1],h=s[0]);const a=Math.atan((h[1]-u[1])/(h[0]-u[0]));for(let c=0;c<o;c++){const f=c*2*e,p=(c+1)*2*e,v=Math.sqrt(2*Math.pow(e,2)),g=[u[0]+f*Math.cos(a),u[1]+f*Math.sin(a)],b=[u[0]+p*Math.cos(a),u[1]+p*Math.sin(a)],w=[g[0]+v*Math.cos(a+Math.PI/4),g[1]+v*Math.sin(a+Math.PI/4)];i.push(...this.helper.doubleLineOps(g[0],g[1],w[0],w[1],n),...this.helper.doubleLineOps(w[0],w[1],b[0],b[1],n))}}),i}}const ot={};function qs(r,t){let e=r.fillStyle||"hachure";if(!ot[e])switch(e){case"zigzag":ot[e]||(ot[e]=new zs(t));break;case"cross-hatch":ot[e]||(ot[e]=new Fs(t));break;case"dots":ot[e]||(ot[e]=new Zs(t));break;case"dashed":ot[e]||(ot[e]=new Hs(t));break;case"zigzag-line":ot[e]||(ot[e]=new Us(t));break;default:e="hachure",ot[e]||(ot[e]=new wn(t));break}return ot[e]}function Bs(){return Math.floor(Math.random()*2**31)}class Br{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Gs=0,fn=1,Gr=2,be={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Ws(r){const t=new Array;for(;r!=="";)if(r.match(/^([ \t\r\n,]+)/))r=r.substr(RegExp.$1.length);else if(r.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:Gs,text:RegExp.$1},r=r.substr(RegExp.$1.length);else if(r.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))t[t.length]={type:fn,text:`${parseFloat(RegExp.$1)}`},r=r.substr(RegExp.$1.length);else return[];return t[t.length]={type:Gr,text:""},t}function nn(r,t){return r.type===t}function En(r){const t=[],e=Ws(r);let n="BOD",i=0,s=e[i];for(;!nn(s,Gr);){let l=0;const o=[];if(n==="BOD")if(s.text==="M"||s.text==="m")i++,l=be[s.text],n=s.text;else return En("M0,0"+r);else nn(s,fn)?l=be[n]:(i++,l=be[s.text],n=s.text);if(i+l<e.length){for(let u=i;u<i+l;u++){const h=e[u];if(nn(h,fn))o[o.length]=+h.text;else throw new Error("Param not a number: "+n+","+h.text)}if(typeof be[n]=="number"){const u={key:n,data:o};t.push(u),i+=l,s=e[i],n==="M"&&(n="L"),n==="m"&&(n="l")}else throw new Error("Bad segment: "+n)}else throw new Error("Path data ended short")}return t}function Wr(r){let t=0,e=0,n=0,i=0;const s=[];for(const{key:l,data:o}of r)switch(l){case"M":s.push({key:"M",data:[...o]}),[t,e]=o,[n,i]=o;break;case"m":t+=o[0],e+=o[1],s.push({key:"M",data:[t,e]}),n=t,i=e;break;case"L":s.push({key:"L",data:[...o]}),[t,e]=o;break;case"l":t+=o[0],e+=o[1],s.push({key:"L",data:[t,e]});break;case"C":s.push({key:"C",data:[...o]}),t=o[4],e=o[5];break;case"c":{const u=o.map((h,a)=>a%2?h+e:h+t);s.push({key:"C",data:u}),t=u[4],e=u[5];break}case"Q":s.push({key:"Q",data:[...o]}),t=o[2],e=o[3];break;case"q":{const u=o.map((h,a)=>a%2?h+e:h+t);s.push({key:"Q",data:u}),t=u[2],e=u[3];break}case"A":s.push({key:"A",data:[...o]}),t=o[5],e=o[6];break;case"a":t+=o[5],e+=o[6],s.push({key:"A",data:[o[0],o[1],o[2],o[3],o[4],t,e]});break;case"H":s.push({key:"H",data:[...o]}),t=o[0];break;case"h":t+=o[0],s.push({key:"H",data:[t]});break;case"V":s.push({key:"V",data:[...o]}),e=o[0];break;case"v":e+=o[0],s.push({key:"V",data:[e]});break;case"S":s.push({key:"S",data:[...o]}),t=o[2],e=o[3];break;case"s":{const u=o.map((h,a)=>a%2?h+e:h+t);s.push({key:"S",data:u}),t=u[2],e=u[3];break}case"T":s.push({key:"T",data:[...o]}),t=o[0],e=o[1];break;case"t":t+=o[0],e+=o[1],s.push({key:"T",data:[t,e]});break;case"Z":case"z":s.push({key:"Z",data:[]}),t=n,e=i;break}return s}function Xr(r){const t=[];let e="",n=0,i=0,s=0,l=0,o=0,u=0;for(const{key:h,data:a}of r){switch(h){case"M":t.push({key:"M",data:[...a]}),[n,i]=a,[s,l]=a;break;case"C":t.push({key:"C",data:[...a]}),n=a[4],i=a[5],o=a[2],u=a[3];break;case"L":t.push({key:"L",data:[...a]}),[n,i]=a;break;case"H":n=a[0],t.push({key:"L",data:[n,i]});break;case"V":i=a[0],t.push({key:"L",data:[n,i]});break;case"S":{let c=0,f=0;e==="C"||e==="S"?(c=n+(n-o),f=i+(i-u)):(c=n,f=i),t.push({key:"C",data:[c,f,...a]}),o=a[0],u=a[1],n=a[2],i=a[3];break}case"T":{const[c,f]=a;let p=0,v=0;e==="Q"||e==="T"?(p=n+(n-o),v=i+(i-u)):(p=n,v=i);const g=n+2*(p-n)/3,b=i+2*(v-i)/3,w=c+2*(p-c)/3,T=f+2*(v-f)/3;t.push({key:"C",data:[g,b,w,T,c,f]}),o=p,u=v,n=c,i=f;break}case"Q":{const[c,f,p,v]=a,g=n+2*(c-n)/3,b=i+2*(f-i)/3,w=p+2*(c-p)/3,T=v+2*(f-v)/3;t.push({key:"C",data:[g,b,w,T,p,v]}),o=c,u=f,n=p,i=v;break}case"A":{const c=Math.abs(a[0]),f=Math.abs(a[1]),p=a[2],v=a[3],g=a[4],b=a[5],w=a[6];c===0||f===0?(t.push({key:"C",data:[n,i,b,w,b,w]}),n=b,i=w):(n!==b||i!==w)&&(Yr(n,i,b,w,c,f,p,v,g).forEach(function(N){t.push({key:"C",data:N})}),n=b,i=w);break}case"Z":t.push({key:"Z",data:[]}),n=s,i=l;break}e=h}return t}function Xs(r){return Math.PI*r/180}function Jt(r,t,e){const n=r*Math.cos(e)-t*Math.sin(e),i=r*Math.sin(e)+t*Math.cos(e);return[n,i]}function Yr(r,t,e,n,i,s,l,o,u,h){const a=Xs(l);let c=[],f=0,p=0,v=0,g=0;if(h)[f,p,v,g]=h;else{[r,t]=Jt(r,t,-a),[e,n]=Jt(e,n,-a);const z=(r-e)/2,F=(t-n)/2;let H=z*z/(i*i)+F*F/(s*s);H>1&&(H=Math.sqrt(H),i=H*i,s=H*s);const Y=o===u?-1:1,W=i*i,Q=s*s,$=W*Q-W*F*F-Q*z*z,q=W*F*F+Q*z*z,Z=Y*Math.sqrt(Math.abs($/q));v=Z*i*F/s+(r+e)/2,g=Z*-s*z/i+(t+n)/2,f=Math.asin(parseFloat(((t-g)/s).toFixed(9))),p=Math.asin(parseFloat(((n-g)/s).toFixed(9))),r<v&&(f=Math.PI-f),e<v&&(p=Math.PI-p),f<0&&(f=Math.PI*2+f),p<0&&(p=Math.PI*2+p),u&&f>p&&(f=f-Math.PI*2),!u&&p>f&&(p=p-Math.PI*2)}let b=p-f;if(Math.abs(b)>Math.PI*120/180){const z=p,F=e,H=n;u&&p>f?p=f+Math.PI*120/180*1:p=f+Math.PI*120/180*-1,e=v+i*Math.cos(p),n=g+s*Math.sin(p),c=Yr(e,n,F,H,i,s,l,0,u,[p,z,v,g])}b=p-f;const w=Math.cos(f),T=Math.sin(f),N=Math.cos(p),A=Math.sin(p),D=Math.tan(b/4),P=4/3*i*D,O=4/3*s*D,C=[r,t],R=[r+P*T,t-O*w],G=[e+P*A,n-O*N],U=[e,n];if(R[0]=2*C[0]-R[0],R[1]=2*C[1]-R[1],h)return[R,G,U].concat(c);{c=[R,G,U].concat(c);const z=[];for(let F=0;F<c.length;F+=3){const H=Jt(c[F][0],c[F][1],a),Y=Jt(c[F+1][0],c[F+1][1],a),W=Jt(c[F+2][0],c[F+2][1],a);z.push([H[0],H[1],Y[0],Y[1],W[0],W[1]])}return z}}const Ys={randOffset:Ks,randOffsetWithRange:to,ellipse:Qs,doubleLineOps:eo};function $r(r,t,e,n,i){return{type:"path",ops:kt(r,t,e,n,i)}}function Se(r,t,e){const n=(r||[]).length;if(n>2){const i=[];for(let s=0;s<n-1;s++)i.push(...kt(r[s][0],r[s][1],r[s+1][0],r[s+1][1],e));return t&&i.push(...kt(r[n-1][0],r[n-1][1],r[0][0],r[0][1],e)),{type:"path",ops:i}}else if(n===2)return $r(r[0][0],r[0][1],r[1][0],r[1][1],e);return{type:"path",ops:[]}}function $s(r,t){return Se(r,!0,t)}function js(r,t,e,n,i){const s=[[r,t],[r+e,t],[r+e,t+n],[r,t+n]];return $s(s,i)}function or(r,t){if(r.length){const n=typeof r[0][0]=="number"?[r]:r,i=xe(n[0],1*(1+t.roughness*.2),t),s=t.disableMultiStroke?[]:xe(n[0],1.5*(1+t.roughness*.22),ur(t));for(let l=1;l<n.length;l++){const o=n[l];if(o.length){const u=xe(o,1*(1+t.roughness*.2),t),h=t.disableMultiStroke?[]:xe(o,1.5*(1+t.roughness*.22),ur(t));for(const a of u)a.op!=="move"&&i.push(a);for(const a of h)a.op!=="move"&&s.push(a)}}return{type:"path",ops:i.concat(s)}}return{type:"path",ops:[]}}function Qs(r,t,e,n,i){const s=jr(e,n,i);return pn(r,t,i,s).opset}function jr(r,t,e){const n=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(r/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(e.curveStepCount,e.curveStepCount/Math.sqrt(200)*n)),s=Math.PI*2/i;let l=Math.abs(r/2),o=Math.abs(t/2);const u=1-e.curveFitting;return l+=k(l*u,e),o+=k(o*u,e),{increment:s,rx:l,ry:o}}function pn(r,t,e,n){const[i,s]=hr(n.increment,r,t,n.rx,n.ry,1,n.increment*_e(.1,_e(.4,1,e),e),e);let l=Ce(i,null,e);if(!e.disableMultiStroke&&e.roughness!==0){const[o]=hr(n.increment,r,t,n.rx,n.ry,1.5,0,e),u=Ce(o,null,e);l=l.concat(u)}return{estimatedPoints:s,opset:{type:"path",ops:l}}}function ar(r,t,e,n,i,s,l,o,u){const h=r,a=t;let c=Math.abs(e/2),f=Math.abs(n/2);c+=k(c*.01,u),f+=k(f*.01,u);let p=i,v=s;for(;p<0;)p+=Math.PI*2,v+=Math.PI*2;v-p>Math.PI*2&&(p=0,v=Math.PI*2);const g=Math.PI*2/u.curveStepCount,b=Math.min(g/2,(v-p)/2),w=cr(b,h,a,c,f,p,v,1,u);if(!u.disableMultiStroke){const T=cr(b,h,a,c,f,p,v,1.5,u);w.push(...T)}return l&&(o?w.push(...kt(h,a,h+c*Math.cos(p),a+f*Math.sin(p),u),...kt(h,a,h+c*Math.cos(v),a+f*Math.sin(v),u)):w.push({op:"lineTo",data:[h,a]},{op:"lineTo",data:[h+c*Math.cos(p),a+f*Math.sin(p)]})),{type:"path",ops:w}}function lr(r,t){const e=Xr(Wr(En(r))),n=[];let i=[0,0],s=[0,0];for(const{key:l,data:o}of e)switch(l){case"M":{s=[o[0],o[1]],i=[o[0],o[1]];break}case"L":n.push(...kt(s[0],s[1],o[0],o[1],t)),s=[o[0],o[1]];break;case"C":{const[u,h,a,c,f,p]=o;n.push(...no(u,h,a,c,f,p,s,t)),s=[f,p];break}case"Z":n.push(...kt(s[0],s[1],i[0],i[1],t)),s=[i[0],i[1]];break}return{type:"path",ops:n}}function rn(r,t){const e=[];for(const n of r)if(n.length){const i=t.maxRandomnessOffset||0,s=n.length;if(s>2){e.push({op:"move",data:[n[0][0]+k(i,t),n[0][1]+k(i,t)]});for(let l=1;l<s;l++)e.push({op:"lineTo",data:[n[l][0]+k(i,t),n[l][1]+k(i,t)]})}}return{type:"fillPath",ops:e}}function Ut(r,t){return qs(t,Ys).fillPolygons(r,t)}function Js(r,t,e,n,i,s,l){const o=r,u=t;let h=Math.abs(e/2),a=Math.abs(n/2);h+=k(h*.01,l),a+=k(a*.01,l);let c=i,f=s;for(;c<0;)c+=Math.PI*2,f+=Math.PI*2;f-c>Math.PI*2&&(c=0,f=Math.PI*2);const p=(f-c)/l.curveStepCount,v=[];for(let g=c;g<=f;g=g+p)v.push([o+h*Math.cos(g),u+a*Math.sin(g)]);return v.push([o+h*Math.cos(f),u+a*Math.sin(f)]),v.push([o,u]),Ut([v],l)}function Ks(r,t){return k(r,t)}function to(r,t,e){return _e(r,t,e)}function eo(r,t,e,n,i){return kt(r,t,e,n,i,!0)}function ur(r){const t=Object.assign({},r);return t.randomizer=void 0,r.seed&&(t.seed=r.seed+1),t}function Qr(r){return r.randomizer||(r.randomizer=new Br(r.seed||0)),r.randomizer.next()}function _e(r,t,e,n=1){return e.roughness*n*(Qr(e)*(t-r)+r)}function k(r,t,e=1){return _e(-r,r,t,e)}function kt(r,t,e,n,i,s=!1){const l=s?i.disableMultiStrokeFill:i.disableMultiStroke,o=dn(r,t,e,n,i,!0,!1);if(l)return o;const u=dn(r,t,e,n,i,!0,!0);return o.concat(u)}function dn(r,t,e,n,i,s,l){const o=Math.pow(r-e,2)+Math.pow(t-n,2),u=Math.sqrt(o);let h=1;u<200?h=1:u>500?h=.4:h=-.0016668*u+1.233334;let a=i.maxRandomnessOffset||0;a*a*100>o&&(a=u/10);const c=a/2,f=.2+Qr(i)*.2;let p=i.bowing*i.maxRandomnessOffset*(n-t)/200,v=i.bowing*i.maxRandomnessOffset*(r-e)/200;p=k(p,i,h),v=k(v,i,h);const g=[],b=()=>k(c,i,h),w=()=>k(a,i,h),T=i.preserveVertices;return l?g.push({op:"move",data:[r+(T?0:b()),t+(T?0:b())]}):g.push({op:"move",data:[r+(T?0:k(a,i,h)),t+(T?0:k(a,i,h))]}),l?g.push({op:"bcurveTo",data:[p+r+(e-r)*f+b(),v+t+(n-t)*f+b(),p+r+2*(e-r)*f+b(),v+t+2*(n-t)*f+b(),e+(T?0:b()),n+(T?0:b())]}):g.push({op:"bcurveTo",data:[p+r+(e-r)*f+w(),v+t+(n-t)*f+w(),p+r+2*(e-r)*f+w(),v+t+2*(n-t)*f+w(),e+(T?0:w()),n+(T?0:w())]}),g}function xe(r,t,e){if(!r.length)return[];const n=[];n.push([r[0][0]+k(t,e),r[0][1]+k(t,e)]),n.push([r[0][0]+k(t,e),r[0][1]+k(t,e)]);for(let i=1;i<r.length;i++)n.push([r[i][0]+k(t,e),r[i][1]+k(t,e)]),i===r.length-1&&n.push([r[i][0]+k(t,e),r[i][1]+k(t,e)]);return Ce(n,null,e)}function Ce(r,t,e){const n=r.length,i=[];if(n>3){const s=[],l=1-e.curveTightness;i.push({op:"move",data:[r[1][0],r[1][1]]});for(let o=1;o+2<n;o++){const u=r[o];s[0]=[u[0],u[1]],s[1]=[u[0]+(l*r[o+1][0]-l*r[o-1][0])/6,u[1]+(l*r[o+1][1]-l*r[o-1][1])/6],s[2]=[r[o+1][0]+(l*r[o][0]-l*r[o+2][0])/6,r[o+1][1]+(l*r[o][1]-l*r[o+2][1])/6],s[3]=[r[o+1][0],r[o+1][1]],i.push({op:"bcurveTo",data:[s[1][0],s[1][1],s[2][0],s[2][1],s[3][0],s[3][1]]})}}else n===3?(i.push({op:"move",data:[r[1][0],r[1][1]]}),i.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[2][0],r[2][1]]})):n===2&&i.push(...dn(r[0][0],r[0][1],r[1][0],r[1][1],e,!0,!0));return i}function hr(r,t,e,n,i,s,l,o){const u=o.roughness===0,h=[],a=[];if(u){r=r/4,a.push([t+n*Math.cos(-r),e+i*Math.sin(-r)]);for(let c=0;c<=Math.PI*2;c=c+r){const f=[t+n*Math.cos(c),e+i*Math.sin(c)];h.push(f),a.push(f)}a.push([t+n*Math.cos(0),e+i*Math.sin(0)]),a.push([t+n*Math.cos(r),e+i*Math.sin(r)])}else{const c=k(.5,o)-Math.PI/2;a.push([k(s,o)+t+.9*n*Math.cos(c-r),k(s,o)+e+.9*i*Math.sin(c-r)]);const f=Math.PI*2+c-.01;for(let p=c;p<f;p=p+r){const v=[k(s,o)+t+n*Math.cos(p),k(s,o)+e+i*Math.sin(p)];h.push(v),a.push(v)}a.push([k(s,o)+t+n*Math.cos(c+Math.PI*2+l*.5),k(s,o)+e+i*Math.sin(c+Math.PI*2+l*.5)]),a.push([k(s,o)+t+.98*n*Math.cos(c+l),k(s,o)+e+.98*i*Math.sin(c+l)]),a.push([k(s,o)+t+.9*n*Math.cos(c+l*.5),k(s,o)+e+.9*i*Math.sin(c+l*.5)])}return[a,h]}function cr(r,t,e,n,i,s,l,o,u){const h=s+k(.1,u),a=[];a.push([k(o,u)+t+.9*n*Math.cos(h-r),k(o,u)+e+.9*i*Math.sin(h-r)]);for(let c=h;c<=l;c=c+r)a.push([k(o,u)+t+n*Math.cos(c),k(o,u)+e+i*Math.sin(c)]);return a.push([t+n*Math.cos(l),e+i*Math.sin(l)]),a.push([t+n*Math.cos(l),e+i*Math.sin(l)]),Ce(a,null,u)}function no(r,t,e,n,i,s,l,o){const u=[],h=[o.maxRandomnessOffset||1,(o.maxRandomnessOffset||1)+.3];let a=[0,0];const c=o.disableMultiStroke?1:2,f=o.preserveVertices;for(let p=0;p<c;p++)p===0?u.push({op:"move",data:[l[0],l[1]]}):u.push({op:"move",data:[l[0]+(f?0:k(h[0],o)),l[1]+(f?0:k(h[0],o))]}),a=f?[i,s]:[i+k(h[p],o),s+k(h[p],o)],u.push({op:"bcurveTo",data:[r+k(h[p],o),t+k(h[p],o),e+k(h[p],o),n+k(h[p],o),a[0],a[1]]});return u}function Kt(r){return[...r]}function fr(r,t=0){const e=r.length;if(e<3)throw new Error("A curve must have at least three points.");const n=[];if(e===3)n.push(Kt(r[0]),Kt(r[1]),Kt(r[2]),Kt(r[2]));else{const i=[];i.push(r[0],r[0]);for(let o=1;o<r.length;o++)i.push(r[o]),o===r.length-1&&i.push(r[o]);const s=[],l=1-t;n.push(Kt(i[0]));for(let o=1;o+2<i.length;o++){const u=i[o];s[0]=[u[0],u[1]],s[1]=[u[0]+(l*i[o+1][0]-l*i[o-1][0])/6,u[1]+(l*i[o+1][1]-l*i[o-1][1])/6],s[2]=[i[o+1][0]+(l*i[o][0]-l*i[o+2][0])/6,i[o+1][1]+(l*i[o][1]-l*i[o+2][1])/6],s[3]=[i[o+1][0],i[o+1][1]],n.push(s[1],s[2],s[3])}}return n}function ro(r,t){return Math.sqrt(Ae(r,t))}function Ae(r,t){return Math.pow(r[0]-t[0],2)+Math.pow(r[1]-t[1],2)}function io(r,t,e){const n=Ae(t,e);if(n===0)return Ae(r,t);let i=((r[0]-t[0])*(e[0]-t[0])+(r[1]-t[1])*(e[1]-t[1]))/n;return i=Math.max(0,Math.min(1,i)),Ae(r,zt(t,e,i))}function zt(r,t,e){return[r[0]+(t[0]-r[0])*e,r[1]+(t[1]-r[1])*e]}function so(r,t){const e=r[t+0],n=r[t+1],i=r[t+2],s=r[t+3];let l=3*n[0]-2*e[0]-s[0];l*=l;let o=3*n[1]-2*e[1]-s[1];o*=o;let u=3*i[0]-2*s[0]-e[0];u*=u;let h=3*i[1]-2*s[1]-e[1];return h*=h,l<u&&(l=u),o<h&&(o=h),l+o}function mn(r,t,e,n){const i=n||[];if(so(r,t)<e){const s=r[t+0];i.length?ro(i[i.length-1],s)>1&&i.push(s):i.push(s),i.push(r[t+3])}else{const l=r[t+0],o=r[t+1],u=r[t+2],h=r[t+3],a=zt(l,o,.5),c=zt(o,u,.5),f=zt(u,h,.5),p=zt(a,c,.5),v=zt(c,f,.5),g=zt(p,v,.5);mn([l,a,p,g],0,e,i),mn([g,v,f,h],0,e,i)}return i}function oo(r,t){return Oe(r,0,r.length,t)}function Oe(r,t,e,n,i){const s=i||[],l=r[t],o=r[e-1];let u=0,h=1;for(let a=t+1;a<e-1;++a){const c=io(r[a],l,o);c>u&&(u=c,h=a)}return Math.sqrt(u)>n?(Oe(r,t,h+1,n,s),Oe(r,h,e,n,s)):(s.length||s.push(l),s.push(o)),s}function gn(r,t=.15,e){const n=[],i=(r.length-1)/3;for(let s=0;s<i;s++){const l=s*3;mn(r,l,t,n)}return e&&e>0?Oe(n,0,n.length,e):n}function ao(r,t,e){const n=En(r),i=Xr(Wr(n)),s=[];let l=[],o=[0,0],u=[];const h=()=>{u.length>=4&&l.push(...gn(u,t)),u=[]},a=()=>{h(),l.length&&(s.push(l),l=[])};for(const{key:f,data:p}of i)switch(f){case"M":a(),o=[p[0],p[1]],l.push(o);break;case"L":h(),l.push([p[0],p[1]]);break;case"C":if(!u.length){const v=l.length?l[l.length-1]:o;u.push([v[0],v[1]])}u.push([p[0],p[1]]),u.push([p[2],p[3]]),u.push([p[4],p[5]]);break;case"Z":h(),l.push([o[0],o[1]]);break}if(a(),!e)return s;const c=[];for(const f of s){const p=oo(f,e);p.length&&c.push(p)}return c}const at="none";class Ne{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Bs()}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,n){return{shape:t,sets:e||[],options:n||this.defaultOptions}}line(t,e,n,i,s){const l=this._o(s);return this._d("line",[$r(t,e,n,i,l)],l)}rectangle(t,e,n,i,s){const l=this._o(s),o=[],u=js(t,e,n,i,l);if(l.fill){const h=[[t,e],[t+n,e],[t+n,e+i],[t,e+i]];l.fillStyle==="solid"?o.push(rn([h],l)):o.push(Ut([h],l))}return l.stroke!==at&&o.push(u),this._d("rectangle",o,l)}ellipse(t,e,n,i,s){const l=this._o(s),o=[],u=jr(n,i,l),h=pn(t,e,l,u);if(l.fill)if(l.fillStyle==="solid"){const a=pn(t,e,l,u).opset;a.type="fillPath",o.push(a)}else o.push(Ut([h.estimatedPoints],l));return l.stroke!==at&&o.push(h.opset),this._d("ellipse",o,l)}circle(t,e,n,i){const s=this.ellipse(t,e,n,n,i);return s.shape="circle",s}linearPath(t,e){const n=this._o(e);return this._d("linearPath",[Se(t,!1,n)],n)}arc(t,e,n,i,s,l,o=!1,u){const h=this._o(u),a=[],c=ar(t,e,n,i,s,l,o,!0,h);if(o&&h.fill)if(h.fillStyle==="solid"){const f=Object.assign({},h);f.disableMultiStroke=!0;const p=ar(t,e,n,i,s,l,!0,!1,f);p.type="fillPath",a.push(p)}else a.push(Js(t,e,n,i,s,l,h));return h.stroke!==at&&a.push(c),this._d("arc",a,h)}curve(t,e){const n=this._o(e),i=[],s=or(t,n);if(n.fill&&n.fill!==at)if(n.fillStyle==="solid"){const l=or(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(l.ops)})}else{const l=[],o=t;if(o.length){const h=typeof o[0][0]=="number"?[o]:o;for(const a of h)a.length<3?l.push(...a):a.length===3?l.push(...gn(fr([a[0],a[0],a[1],a[2]]),10,(1+n.roughness)/2)):l.push(...gn(fr(a),10,(1+n.roughness)/2))}l.length&&i.push(Ut([l],n))}return n.stroke!==at&&i.push(s),this._d("curve",i,n)}polygon(t,e){const n=this._o(e),i=[],s=Se(t,!0,n);return n.fill&&(n.fillStyle==="solid"?i.push(rn([t],n)):i.push(Ut([t],n))),n.stroke!==at&&i.push(s),this._d("polygon",i,n)}path(t,e){const n=this._o(e),i=[];if(!t)return this._d("path",i,n);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const s=n.fill&&n.fill!=="transparent"&&n.fill!==at,l=n.stroke!==at,o=!!(n.simplification&&n.simplification<1),u=o?4-4*(n.simplification||1):(1+n.roughness)/2,h=ao(t,1,u),a=lr(t,n);if(s)if(n.fillStyle==="solid")if(h.length===1){const c=lr(t,Object.assign(Object.assign({},n),{disableMultiStroke:!0,roughness:n.roughness?n.roughness+n.fillShapeRoughnessGain:0}));i.push({type:"fillPath",ops:this._mergedShape(c.ops)})}else i.push(rn(h,n));else i.push(Ut(h,n));return l&&(o?h.forEach(c=>{i.push(Se(c,!1,n))}):i.push(a)),this._d("path",i,n)}opsToPath(t,e){let n="";for(const i of t.ops){const s=typeof e=="number"&&e>=0?i.data.map(l=>+l.toFixed(e)):i.data;switch(i.op){case"move":n+=`M${s[0]} ${s[1]} `;break;case"bcurveTo":n+=`C${s[0]} ${s[1]}, ${s[2]} ${s[3]}, ${s[4]} ${s[5]} `;break;case"lineTo":n+=`L${s[0]} ${s[1]} `;break}}return n.trim()}toPaths(t){const e=t.sets||[],n=t.options||this.defaultOptions,i=[];for(const s of e){let l=null;switch(s.type){case"path":l={d:this.opsToPath(s),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:at};break;case"fillPath":l={d:this.opsToPath(s),stroke:at,strokeWidth:0,fill:n.fill||at};break;case"fillSketch":l=this.fillSketch(s,n);break}l&&i.push(l)}return i}fillSketch(t,e){let n=e.fillWeight;return n<0&&(n=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||at,strokeWidth:n,fill:at}}_mergedShape(t){return t.filter((e,n)=>n===0?!0:e.op!=="move")}}class lo{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new Ne(e)}draw(t){const e=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.ctx,s=t.options.fixedDecimalPlaceDigits;for(const l of e)switch(l.type){case"path":i.save(),i.strokeStyle=n.stroke==="none"?"transparent":n.stroke,i.lineWidth=n.strokeWidth,n.strokeLineDash&&i.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(i.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(i,l,s),i.restore();break;case"fillPath":{i.save(),i.fillStyle=n.fill||"";const o=t.shape==="curve"||t.shape==="polygon"||t.shape==="path"?"evenodd":"nonzero";this._drawToContext(i,l,s,o),i.restore();break}case"fillSketch":this.fillSketch(i,l,n);break}}fillSketch(t,e,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2),t.save(),n.fillLineDash&&t.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(t.lineDashOffset=n.fillLineDashOffset),t.strokeStyle=n.fill||"",t.lineWidth=i,this._drawToContext(t,e,n.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,n,i="nonzero"){t.beginPath();for(const s of e.ops){const l=typeof n=="number"&&n>=0?s.data.map(o=>+o.toFixed(n)):s.data;switch(s.op){case"move":t.moveTo(l[0],l[1]);break;case"bcurveTo":t.bezierCurveTo(l[0],l[1],l[2],l[3],l[4],l[5]);break;case"lineTo":t.lineTo(l[0],l[1]);break}}e.type==="fillPath"?t.fill(i):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,n,i,s){const l=this.gen.line(t,e,n,i,s);return this.draw(l),l}rectangle(t,e,n,i,s){const l=this.gen.rectangle(t,e,n,i,s);return this.draw(l),l}ellipse(t,e,n,i,s){const l=this.gen.ellipse(t,e,n,i,s);return this.draw(l),l}circle(t,e,n,i){const s=this.gen.circle(t,e,n,i);return this.draw(s),s}linearPath(t,e){const n=this.gen.linearPath(t,e);return this.draw(n),n}polygon(t,e){const n=this.gen.polygon(t,e);return this.draw(n),n}arc(t,e,n,i,s,l,o=!1,u){const h=this.gen.arc(t,e,n,i,s,l,o,u);return this.draw(h),h}curve(t,e){const n=this.gen.curve(t,e);return this.draw(n),n}path(t,e){const n=this.gen.path(t,e);return this.draw(n),n}}const we="http://www.w3.org/2000/svg";class uo{constructor(t,e){this.svg=t,this.gen=new Ne(e)}draw(t){const e=t.sets||[],n=t.options||this.getDefaultOptions(),i=this.svg.ownerDocument||window.document,s=i.createElementNS(we,"g"),l=t.options.fixedDecimalPlaceDigits;for(const o of e){let u=null;switch(o.type){case"path":{u=i.createElementNS(we,"path"),u.setAttribute("d",this.opsToPath(o,l)),u.setAttribute("stroke",n.stroke),u.setAttribute("stroke-width",n.strokeWidth+""),u.setAttribute("fill","none"),n.strokeLineDash&&u.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&u.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break}case"fillPath":{u=i.createElementNS(we,"path"),u.setAttribute("d",this.opsToPath(o,l)),u.setAttribute("stroke","none"),u.setAttribute("stroke-width","0"),u.setAttribute("fill",n.fill||""),(t.shape==="curve"||t.shape==="polygon")&&u.setAttribute("fill-rule","evenodd");break}case"fillSketch":{u=this.fillSketch(i,o,n);break}}u&&s.appendChild(u)}return s}fillSketch(t,e,n){let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const s=t.createElementNS(we,"path");return s.setAttribute("d",this.opsToPath(e,n.fixedDecimalPlaceDigits)),s.setAttribute("stroke",n.fill||""),s.setAttribute("stroke-width",i+""),s.setAttribute("fill","none"),n.fillLineDash&&s.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&s.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),s}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,n,i,s){const l=this.gen.line(t,e,n,i,s);return this.draw(l)}rectangle(t,e,n,i,s){const l=this.gen.rectangle(t,e,n,i,s);return this.draw(l)}ellipse(t,e,n,i,s){const l=this.gen.ellipse(t,e,n,i,s);return this.draw(l)}circle(t,e,n,i){const s=this.gen.circle(t,e,n,i);return this.draw(s)}linearPath(t,e){const n=this.gen.linearPath(t,e);return this.draw(n)}polygon(t,e){const n=this.gen.polygon(t,e);return this.draw(n)}arc(t,e,n,i,s,l,o=!1,u){const h=this.gen.arc(t,e,n,i,s,l,o,u);return this.draw(h)}curve(t,e){const n=this.gen.curve(t,e);return this.draw(n)}path(t,e){const n=this.gen.path(t,e);return this.draw(n)}}const ho={canvas(r,t){return new lo(r,t)},svg(r,t){return new uo(r,t)},generator(r){return new Ne(r)},newSeed(){return Ne.newSeed()}};function Pe(r){"@babel/helpers - typeof";return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pe(r)}var co=/^\s+/,fo=/\s+$/;function _(r,t){if(r=r||"",t=t||{},r instanceof _)return r;if(!(this instanceof _))return new _(r,t);var e=po(r);this._originalInput=r,this._r=e.r,this._g=e.g,this._b=e.b,this._a=e.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||e.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=e.ok}_.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),e,n,i,s,l,o;return e=t.r/255,n=t.g/255,i=t.b/255,e<=.03928?s=e/12.92:s=Math.pow((e+.055)/1.055,2.4),n<=.03928?l=n/12.92:l=Math.pow((n+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*l+.0722*o},setAlpha:function(t){return this._a=Jr(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=dr(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=dr(this._r,this._g,this._b),e=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.v*100);return this._a==1?"hsv("+e+", "+n+"%, "+i+"%)":"hsva("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var t=pr(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=pr(this._r,this._g,this._b),e=Math.round(t.h*360),n=Math.round(t.s*100),i=Math.round(t.l*100);return this._a==1?"hsl("+e+", "+n+"%, "+i+"%)":"hsla("+e+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(t){return mr(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return yo(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(B(this._r,255)*100)+"%",g:Math.round(B(this._g,255)*100)+"%",b:Math.round(B(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(B(this._r,255)*100)+"%, "+Math.round(B(this._g,255)*100)+"%, "+Math.round(B(this._b,255)*100)+"%)":"rgba("+Math.round(B(this._r,255)*100)+"%, "+Math.round(B(this._g,255)*100)+"%, "+Math.round(B(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:No[mr(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var e="#"+gr(this._r,this._g,this._b,this._a),n=e,i=this._gradientType?"GradientType = 1, ":"";if(t){var s=_(t);n="#"+gr(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!e&&i&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return s?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(n=this.toRgbString()),t==="prgb"&&(n=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(n=this.toHexString()),t==="hex3"&&(n=this.toHexString(!0)),t==="hex4"&&(n=this.toHex8String(!0)),t==="hex8"&&(n=this.toHex8String()),t==="name"&&(n=this.toName()),t==="hsl"&&(n=this.toHslString()),t==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return _(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Eo,arguments)},brighten:function(){return this._applyModification(To,arguments)},darken:function(){return this._applyModification(Mo,arguments)},desaturate:function(){return this._applyModification(bo,arguments)},saturate:function(){return this._applyModification(xo,arguments)},greyscale:function(){return this._applyModification(wo,arguments)},spin:function(){return this._applyModification(So,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(Co,arguments)},complement:function(){return this._applyCombination(Ao,arguments)},monochromatic:function(){return this._applyCombination(Oo,arguments)},splitcomplement:function(){return this._applyCombination(_o,arguments)},triad:function(){return this._applyCombination(vr,[3])},tetrad:function(){return this._applyCombination(vr,[4])}};_.fromRatio=function(r,t){if(Pe(r)=="object"){var e={};for(var n in r)r.hasOwnProperty(n)&&(n==="a"?e[n]=r[n]:e[n]=te(r[n]));r=e}return _(r,t)};function po(r){var t={r:0,g:0,b:0},e=1,n=null,i=null,s=null,l=!1,o=!1;return typeof r=="string"&&(r=Ro(r)),Pe(r)=="object"&&(Mt(r.r)&&Mt(r.g)&&Mt(r.b)?(t=mo(r.r,r.g,r.b),l=!0,o=String(r.r).substr(-1)==="%"?"prgb":"rgb"):Mt(r.h)&&Mt(r.s)&&Mt(r.v)?(n=te(r.s),i=te(r.v),t=vo(r.h,n,i),l=!0,o="hsv"):Mt(r.h)&&Mt(r.s)&&Mt(r.l)&&(n=te(r.s),s=te(r.l),t=go(r.h,n,s),l=!0,o="hsl"),r.hasOwnProperty("a")&&(e=r.a)),e=Jr(e),{ok:l,format:r.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:e}}function mo(r,t,e){return{r:B(r,255)*255,g:B(t,255)*255,b:B(e,255)*255}}function pr(r,t,e){r=B(r,255),t=B(t,255),e=B(e,255);var n=Math.max(r,t,e),i=Math.min(r,t,e),s,l,o=(n+i)/2;if(n==i)s=l=0;else{var u=n-i;switch(l=o>.5?u/(2-n-i):u/(n+i),n){case r:s=(t-e)/u+(t<e?6:0);break;case t:s=(e-r)/u+2;break;case e:s=(r-t)/u+4;break}s/=6}return{h:s,s:l,l:o}}function go(r,t,e){var n,i,s;r=B(r,360),t=B(t,100),e=B(e,100);function l(h,a,c){return c<0&&(c+=1),c>1&&(c-=1),c<1/6?h+(a-h)*6*c:c<1/2?a:c<2/3?h+(a-h)*(2/3-c)*6:h}if(t===0)n=i=s=e;else{var o=e<.5?e*(1+t):e+t-e*t,u=2*e-o;n=l(u,o,r+1/3),i=l(u,o,r),s=l(u,o,r-1/3)}return{r:n*255,g:i*255,b:s*255}}function dr(r,t,e){r=B(r,255),t=B(t,255),e=B(e,255);var n=Math.max(r,t,e),i=Math.min(r,t,e),s,l,o=n,u=n-i;if(l=n===0?0:u/n,n==i)s=0;else{switch(n){case r:s=(t-e)/u+(t<e?6:0);break;case t:s=(e-r)/u+2;break;case e:s=(r-t)/u+4;break}s/=6}return{h:s,s:l,v:o}}function vo(r,t,e){r=B(r,360)*6,t=B(t,100),e=B(e,100);var n=Math.floor(r),i=r-n,s=e*(1-t),l=e*(1-i*t),o=e*(1-(1-i)*t),u=n%6,h=[e,l,s,s,o,e][u],a=[o,e,e,l,s,s][u],c=[s,s,o,e,e,l][u];return{r:h*255,g:a*255,b:c*255}}function mr(r,t,e,n){var i=[vt(Math.round(r).toString(16)),vt(Math.round(t).toString(16)),vt(Math.round(e).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function yo(r,t,e,n,i){var s=[vt(Math.round(r).toString(16)),vt(Math.round(t).toString(16)),vt(Math.round(e).toString(16)),vt(Kr(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function gr(r,t,e,n){var i=[vt(Kr(n)),vt(Math.round(r).toString(16)),vt(Math.round(t).toString(16)),vt(Math.round(e).toString(16))];return i.join("")}_.equals=function(r,t){return!r||!t?!1:_(r).toRgbString()==_(t).toRgbString()};_.random=function(){return _.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function bo(r,t){t=t===0?0:t||10;var e=_(r).toHsl();return e.s-=t/100,e.s=Re(e.s),_(e)}function xo(r,t){t=t===0?0:t||10;var e=_(r).toHsl();return e.s+=t/100,e.s=Re(e.s),_(e)}function wo(r){return _(r).desaturate(100)}function Eo(r,t){t=t===0?0:t||10;var e=_(r).toHsl();return e.l+=t/100,e.l=Re(e.l),_(e)}function To(r,t){t=t===0?0:t||10;var e=_(r).toRgb();return e.r=Math.max(0,Math.min(255,e.r-Math.round(255*-(t/100)))),e.g=Math.max(0,Math.min(255,e.g-Math.round(255*-(t/100)))),e.b=Math.max(0,Math.min(255,e.b-Math.round(255*-(t/100)))),_(e)}function Mo(r,t){t=t===0?0:t||10;var e=_(r).toHsl();return e.l-=t/100,e.l=Re(e.l),_(e)}function So(r,t){var e=_(r).toHsl(),n=(e.h+t)%360;return e.h=n<0?360+n:n,_(e)}function Ao(r){var t=_(r).toHsl();return t.h=(t.h+180)%360,_(t)}function vr(r,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var e=_(r).toHsl(),n=[_(r)],i=360/t,s=1;s<t;s++)n.push(_({h:(e.h+s*i)%360,s:e.s,l:e.l}));return n}function _o(r){var t=_(r).toHsl(),e=t.h;return[_(r),_({h:(e+72)%360,s:t.s,l:t.l}),_({h:(e+216)%360,s:t.s,l:t.l})]}function Co(r,t,e){t=t||6,e=e||30;var n=_(r).toHsl(),i=360/e,s=[_(r)];for(n.h=(n.h-(i*t>>1)+720)%360;--t;)n.h=(n.h+i)%360,s.push(_(n));return s}function Oo(r,t){t=t||6;for(var e=_(r).toHsv(),n=e.h,i=e.s,s=e.v,l=[],o=1/t;t--;)l.push(_({h:n,s:i,v:s})),s=(s+o)%1;return l}_.mix=function(r,t,e){e=e===0?0:e||50;var n=_(r).toRgb(),i=_(t).toRgb(),s=e/100,l={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return _(l)};_.readability=function(r,t){var e=_(r),n=_(t);return(Math.max(e.getLuminance(),n.getLuminance())+.05)/(Math.min(e.getLuminance(),n.getLuminance())+.05)};_.isReadable=function(r,t,e){var n=_.readability(r,t),i,s;switch(s=!1,i=Vo(e),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};_.mostReadable=function(r,t,e){var n=null,i=0,s,l,o,u;e=e||{},l=e.includeFallbackColors,o=e.level,u=e.size;for(var h=0;h<t.length;h++)s=_.readability(r,t[h]),s>i&&(i=s,n=_(t[h]));return _.isReadable(r,n,{level:o,size:u})||!l?n:(e.includeFallbackColors=!1,_.mostReadable(r,["#fff","#000"],e))};var vn=_.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},No=_.hexNames=Po(vn);function Po(r){var t={};for(var e in r)r.hasOwnProperty(e)&&(t[r[e]]=e);return t}function Jr(r){return r=parseFloat(r),(isNaN(r)||r<0||r>1)&&(r=1),r}function B(r,t){ko(r)&&(r="100%");var e=Io(r);return r=Math.min(t,Math.max(0,parseFloat(r))),e&&(r=parseInt(r*t,10)/100),Math.abs(r-t)<1e-6?1:r%t/parseFloat(t)}function Re(r){return Math.min(1,Math.max(0,r))}function lt(r){return parseInt(r,16)}function ko(r){return typeof r=="string"&&r.indexOf(".")!=-1&&parseFloat(r)===1}function Io(r){return typeof r=="string"&&r.indexOf("%")!=-1}function vt(r){return r.length==1?"0"+r:""+r}function te(r){return r<=1&&(r=r*100+"%"),r}function Kr(r){return Math.round(parseFloat(r)*255).toString(16)}function yr(r){return lt(r)/255}var mt=(function(){var r="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",e="(?:"+t+")|(?:"+r+")",n="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?",i="[\\s|\\(]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")[,|\\s]+("+e+")\\s*\\)?";return{CSS_UNIT:new RegExp(e),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function Mt(r){return!!mt.CSS_UNIT.exec(r)}function Ro(r){r=r.replace(co,"").replace(fo,"").toLowerCase();var t=!1;if(vn[r])r=vn[r],t=!0;else if(r=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var e;return(e=mt.rgb.exec(r))?{r:e[1],g:e[2],b:e[3]}:(e=mt.rgba.exec(r))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=mt.hsl.exec(r))?{h:e[1],s:e[2],l:e[3]}:(e=mt.hsla.exec(r))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=mt.hsv.exec(r))?{h:e[1],s:e[2],v:e[3]}:(e=mt.hsva.exec(r))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=mt.hex8.exec(r))?{r:lt(e[1]),g:lt(e[2]),b:lt(e[3]),a:yr(e[4]),format:t?"name":"hex8"}:(e=mt.hex6.exec(r))?{r:lt(e[1]),g:lt(e[2]),b:lt(e[3]),format:t?"name":"hex"}:(e=mt.hex4.exec(r))?{r:lt(e[1]+""+e[1]),g:lt(e[2]+""+e[2]),b:lt(e[3]+""+e[3]),a:yr(e[4]+""+e[4]),format:t?"name":"hex8"}:(e=mt.hex3.exec(r))?{r:lt(e[1]+""+e[1]),g:lt(e[2]+""+e[2]),b:lt(e[3]+""+e[3]),format:t?"name":"hex"}:!1}function Vo(r){var t,e;return r=r||{level:"AA",size:"small"},t=(r.level||"AA").toUpperCase(),e=(r.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),e!=="small"&&e!=="large"&&(e="small"),{level:t,size:e}}var ti=function(r,t){return(ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])})(r,t)};function ei(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=r}ti(r,t),r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function ni(r){var t="";Array.isArray(r)||(r=[r]);for(var e=0;e<r.length;e++){var n=r[e];if(n.type===E.CLOSE_PATH)t+="z";else if(n.type===E.HORIZ_LINE_TO)t+=(n.relative?"h":"H")+n.x;else if(n.type===E.VERT_LINE_TO)t+=(n.relative?"v":"V")+n.y;else if(n.type===E.MOVE_TO)t+=(n.relative?"m":"M")+n.x+" "+n.y;else if(n.type===E.LINE_TO)t+=(n.relative?"l":"L")+n.x+" "+n.y;else if(n.type===E.CURVE_TO)t+=(n.relative?"c":"C")+n.x1+" "+n.y1+" "+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===E.SMOOTH_CURVE_TO)t+=(n.relative?"s":"S")+n.x2+" "+n.y2+" "+n.x+" "+n.y;else if(n.type===E.QUAD_TO)t+=(n.relative?"q":"Q")+n.x1+" "+n.y1+" "+n.x+" "+n.y;else if(n.type===E.SMOOTH_QUAD_TO)t+=(n.relative?"t":"T")+n.x+" "+n.y;else{if(n.type!==E.ARC)throw new Error('Unexpected command type "'+n.type+'" at index '+e+".");t+=(n.relative?"a":"A")+n.rX+" "+n.rY+" "+n.xRot+" "+ +n.lArcFlag+" "+ +n.sweepFlag+" "+n.x+" "+n.y}}return t}function yn(r,t){var e=r[0],n=r[1];return[e*Math.cos(t)-n*Math.sin(t),e*Math.sin(t)+n*Math.cos(t)]}function gt(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];for(var e=0;e<r.length;e++)if(typeof r[e]!="number")throw new Error("assertNumbers arguments["+e+"] is not a number. "+typeof r[e]+" == typeof "+r[e]);return!0}var Ct=Math.PI;function sn(r,t,e){r.lArcFlag=r.lArcFlag===0?0:1,r.sweepFlag=r.sweepFlag===0?0:1;var n=r.rX,i=r.rY,s=r.x,l=r.y;n=Math.abs(r.rX),i=Math.abs(r.rY);var o=yn([(t-s)/2,(e-l)/2],-r.xRot/180*Ct),u=o[0],h=o[1],a=Math.pow(u,2)/Math.pow(n,2)+Math.pow(h,2)/Math.pow(i,2);1<a&&(n*=Math.sqrt(a),i*=Math.sqrt(a)),r.rX=n,r.rY=i;var c=Math.pow(n,2)*Math.pow(h,2)+Math.pow(i,2)*Math.pow(u,2),f=(r.lArcFlag!==r.sweepFlag?1:-1)*Math.sqrt(Math.max(0,(Math.pow(n,2)*Math.pow(i,2)-c)/c)),p=n*h/i*f,v=-i*u/n*f,g=yn([p,v],r.xRot/180*Ct);r.cX=g[0]+(t+s)/2,r.cY=g[1]+(e+l)/2,r.phi1=Math.atan2((h-v)/i,(u-p)/n),r.phi2=Math.atan2((-h-v)/i,(-u-p)/n),r.sweepFlag===0&&r.phi2>r.phi1&&(r.phi2-=2*Ct),r.sweepFlag===1&&r.phi2<r.phi1&&(r.phi2+=2*Ct),r.phi1*=180/Ct,r.phi2*=180/Ct}function br(r,t,e){gt(r,t,e);var n=r*r+t*t-e*e;if(0>n)return[];if(n===0)return[[r*e/(r*r+t*t),t*e/(r*r+t*t)]];var i=Math.sqrt(n);return[[(r*e+t*i)/(r*r+t*t),(t*e-r*i)/(r*r+t*t)],[(r*e-t*i)/(r*r+t*t),(t*e+r*i)/(r*r+t*t)]]}var X,St=Math.PI/180;function xr(r,t,e){return(1-e)*r+e*t}function wr(r,t,e,n){return r+Math.cos(n/180*Ct)*t+Math.sin(n/180*Ct)*e}function Er(r,t,e,n){var i=1e-6,s=t-r,l=e-t,o=3*s+3*(n-e)-6*l,u=6*(l-s),h=3*s;return Math.abs(o)<i?[-h/u]:(function(a,c,f){var p=a*a/4-c;if(p<-f)return[];if(p<=f)return[-a/2];var v=Math.sqrt(p);return[-a/2-v,-a/2+v]})(u/o,h/o,i)}function Tr(r,t,e,n,i){var s=1-i;return r*(s*s*s)+t*(3*s*s*i)+e*(3*s*i*i)+n*(i*i*i)}(function(r){function t(){return i((function(o,u,h){return o.relative&&(o.x1!==void 0&&(o.x1+=u),o.y1!==void 0&&(o.y1+=h),o.x2!==void 0&&(o.x2+=u),o.y2!==void 0&&(o.y2+=h),o.x!==void 0&&(o.x+=u),o.y!==void 0&&(o.y+=h),o.relative=!1),o}))}function e(){var o=NaN,u=NaN,h=NaN,a=NaN;return i((function(c,f,p){return c.type&E.SMOOTH_CURVE_TO&&(c.type=E.CURVE_TO,o=isNaN(o)?f:o,u=isNaN(u)?p:u,c.x1=c.relative?f-o:2*f-o,c.y1=c.relative?p-u:2*p-u),c.type&E.CURVE_TO?(o=c.relative?f+c.x2:c.x2,u=c.relative?p+c.y2:c.y2):(o=NaN,u=NaN),c.type&E.SMOOTH_QUAD_TO&&(c.type=E.QUAD_TO,h=isNaN(h)?f:h,a=isNaN(a)?p:a,c.x1=c.relative?f-h:2*f-h,c.y1=c.relative?p-a:2*p-a),c.type&E.QUAD_TO?(h=c.relative?f+c.x1:c.x1,a=c.relative?p+c.y1:c.y1):(h=NaN,a=NaN),c}))}function n(){var o=NaN,u=NaN;return i((function(h,a,c){if(h.type&E.SMOOTH_QUAD_TO&&(h.type=E.QUAD_TO,o=isNaN(o)?a:o,u=isNaN(u)?c:u,h.x1=h.relative?a-o:2*a-o,h.y1=h.relative?c-u:2*c-u),h.type&E.QUAD_TO){o=h.relative?a+h.x1:h.x1,u=h.relative?c+h.y1:h.y1;var f=h.x1,p=h.y1;h.type=E.CURVE_TO,h.x1=((h.relative?0:a)+2*f)/3,h.y1=((h.relative?0:c)+2*p)/3,h.x2=(h.x+2*f)/3,h.y2=(h.y+2*p)/3}else o=NaN,u=NaN;return h}))}function i(o){var u=0,h=0,a=NaN,c=NaN;return function(f){if(isNaN(a)&&!(f.type&E.MOVE_TO))throw new Error("path must start with moveto");var p=o(f,u,h,a,c);return f.type&E.CLOSE_PATH&&(u=a,h=c),f.x!==void 0&&(u=f.relative?u+f.x:f.x),f.y!==void 0&&(h=f.relative?h+f.y:f.y),f.type&E.MOVE_TO&&(a=u,c=h),p}}function s(o,u,h,a,c,f){return gt(o,u,h,a,c,f),i((function(p,v,g,b){var w=p.x1,T=p.x2,N=p.relative&&!isNaN(b),A=p.x!==void 0?p.x:N?0:v,D=p.y!==void 0?p.y:N?0:g;function P(it){return it*it}p.type&E.HORIZ_LINE_TO&&u!==0&&(p.type=E.LINE_TO,p.y=p.relative?0:g),p.type&E.VERT_LINE_TO&&h!==0&&(p.type=E.LINE_TO,p.x=p.relative?0:v),p.x!==void 0&&(p.x=p.x*o+D*h+(N?0:c)),p.y!==void 0&&(p.y=A*u+p.y*a+(N?0:f)),p.x1!==void 0&&(p.x1=p.x1*o+p.y1*h+(N?0:c)),p.y1!==void 0&&(p.y1=w*u+p.y1*a+(N?0:f)),p.x2!==void 0&&(p.x2=p.x2*o+p.y2*h+(N?0:c)),p.y2!==void 0&&(p.y2=T*u+p.y2*a+(N?0:f));var O=o*a-u*h;if(p.xRot!==void 0&&(o!==1||u!==0||h!==0||a!==1))if(O===0)delete p.rX,delete p.rY,delete p.xRot,delete p.lArcFlag,delete p.sweepFlag,p.type=E.LINE_TO;else{var C=p.xRot*Math.PI/180,R=Math.sin(C),G=Math.cos(C),U=1/P(p.rX),z=1/P(p.rY),F=P(G)*U+P(R)*z,H=2*R*G*(U-z),Y=P(R)*U+P(G)*z,W=F*a*a-H*u*a+Y*u*u,Q=H*(o*a+u*h)-2*(F*h*a+Y*o*u),$=F*h*h-H*o*h+Y*o*o,q=(Math.atan2(Q,W-$)+Math.PI)%Math.PI/2,Z=Math.sin(q),rt=Math.cos(q);p.rX=Math.abs(O)/Math.sqrt(W*P(rt)+Q*Z*rt+$*P(Z)),p.rY=Math.abs(O)/Math.sqrt(W*P(Z)-Q*Z*rt+$*P(rt)),p.xRot=180*q/Math.PI}return p.sweepFlag!==void 0&&0>O&&(p.sweepFlag=+!p.sweepFlag),p}))}function l(){return function(o){var u={};for(var h in o)u[h]=o[h];return u}}r.ROUND=function(o){function u(h){return Math.round(h*o)/o}return o===void 0&&(o=1e13),gt(o),function(h){return h.x1!==void 0&&(h.x1=u(h.x1)),h.y1!==void 0&&(h.y1=u(h.y1)),h.x2!==void 0&&(h.x2=u(h.x2)),h.y2!==void 0&&(h.y2=u(h.y2)),h.x!==void 0&&(h.x=u(h.x)),h.y!==void 0&&(h.y=u(h.y)),h.rX!==void 0&&(h.rX=u(h.rX)),h.rY!==void 0&&(h.rY=u(h.rY)),h}},r.TO_ABS=t,r.TO_REL=function(){return i((function(o,u,h){return o.relative||(o.x1!==void 0&&(o.x1-=u),o.y1!==void 0&&(o.y1-=h),o.x2!==void 0&&(o.x2-=u),o.y2!==void 0&&(o.y2-=h),o.x!==void 0&&(o.x-=u),o.y!==void 0&&(o.y-=h),o.relative=!0),o}))},r.NORMALIZE_HVZ=function(o,u,h){return o===void 0&&(o=!0),u===void 0&&(u=!0),h===void 0&&(h=!0),i((function(a,c,f,p,v){if(isNaN(p)&&!(a.type&E.MOVE_TO))throw new Error("path must start with moveto");return u&&a.type&E.HORIZ_LINE_TO&&(a.type=E.LINE_TO,a.y=a.relative?0:f),h&&a.type&E.VERT_LINE_TO&&(a.type=E.LINE_TO,a.x=a.relative?0:c),o&&a.type&E.CLOSE_PATH&&(a.type=E.LINE_TO,a.x=a.relative?p-c:p,a.y=a.relative?v-f:v),a.type&E.ARC&&(a.rX===0||a.rY===0)&&(a.type=E.LINE_TO,delete a.rX,delete a.rY,delete a.xRot,delete a.lArcFlag,delete a.sweepFlag),a}))},r.NORMALIZE_ST=e,r.QT_TO_C=n,r.INFO=i,r.SANITIZE=function(o){o===void 0&&(o=0),gt(o);var u=NaN,h=NaN,a=NaN,c=NaN;return i((function(f,p,v,g,b){var w=Math.abs,T=!1,N=0,A=0;if(f.type&E.SMOOTH_CURVE_TO&&(N=isNaN(u)?0:p-u,A=isNaN(h)?0:v-h),f.type&(E.CURVE_TO|E.SMOOTH_CURVE_TO)?(u=f.relative?p+f.x2:f.x2,h=f.relative?v+f.y2:f.y2):(u=NaN,h=NaN),f.type&E.SMOOTH_QUAD_TO?(a=isNaN(a)?p:2*p-a,c=isNaN(c)?v:2*v-c):f.type&E.QUAD_TO?(a=f.relative?p+f.x1:f.x1,c=f.relative?v+f.y1:f.y2):(a=NaN,c=NaN),f.type&E.LINE_COMMANDS||f.type&E.ARC&&(f.rX===0||f.rY===0||!f.lArcFlag)||f.type&E.CURVE_TO||f.type&E.SMOOTH_CURVE_TO||f.type&E.QUAD_TO||f.type&E.SMOOTH_QUAD_TO){var D=f.x===void 0?0:f.relative?f.x:f.x-p,P=f.y===void 0?0:f.relative?f.y:f.y-v;N=isNaN(a)?f.x1===void 0?N:f.relative?f.x:f.x1-p:a-p,A=isNaN(c)?f.y1===void 0?A:f.relative?f.y:f.y1-v:c-v;var O=f.x2===void 0?0:f.relative?f.x:f.x2-p,C=f.y2===void 0?0:f.relative?f.y:f.y2-v;w(D)<=o&&w(P)<=o&&w(N)<=o&&w(A)<=o&&w(O)<=o&&w(C)<=o&&(T=!0)}return f.type&E.CLOSE_PATH&&w(p-g)<=o&&w(v-b)<=o&&(T=!0),T?[]:f}))},r.MATRIX=s,r.ROTATE=function(o,u,h){u===void 0&&(u=0),h===void 0&&(h=0),gt(o,u,h);var a=Math.sin(o),c=Math.cos(o);return s(c,a,-a,c,u-u*c+h*a,h-u*a-h*c)},r.TRANSLATE=function(o,u){return u===void 0&&(u=0),gt(o,u),s(1,0,0,1,o,u)},r.SCALE=function(o,u){return u===void 0&&(u=o),gt(o,u),s(o,0,0,u,0,0)},r.SKEW_X=function(o){return gt(o),s(1,0,Math.atan(o),1,0,0)},r.SKEW_Y=function(o){return gt(o),s(1,Math.atan(o),0,1,0,0)},r.X_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),gt(o),s(-1,0,0,1,o,0)},r.Y_AXIS_SYMMETRY=function(o){return o===void 0&&(o=0),gt(o),s(1,0,0,-1,0,o)},r.A_TO_C=function(){return i((function(o,u,h){return E.ARC===o.type?(function(a,c,f){var p,v,g,b;a.cX||sn(a,c,f);for(var w=Math.min(a.phi1,a.phi2),T=Math.max(a.phi1,a.phi2)-w,N=Math.ceil(T/90),A=new Array(N),D=c,P=f,O=0;O<N;O++){var C=xr(a.phi1,a.phi2,O/N),R=xr(a.phi1,a.phi2,(O+1)/N),G=R-C,U=4/3*Math.tan(G*St/4),z=[Math.cos(C*St)-U*Math.sin(C*St),Math.sin(C*St)+U*Math.cos(C*St)],F=z[0],H=z[1],Y=[Math.cos(R*St),Math.sin(R*St)],W=Y[0],Q=Y[1],$=[W+U*Math.sin(R*St),Q-U*Math.cos(R*St)],q=$[0],Z=$[1];A[O]={relative:a.relative,type:E.CURVE_TO};var rt=function(it,It){var Zt=yn([it*a.rX,It*a.rY],a.xRot),Ve=Zt[0],De=Zt[1];return[a.cX+Ve,a.cY+De]};p=rt(F,H),A[O].x1=p[0],A[O].y1=p[1],v=rt(q,Z),A[O].x2=v[0],A[O].y2=v[1],g=rt(W,Q),A[O].x=g[0],A[O].y=g[1],a.relative&&(A[O].x1-=D,A[O].y1-=P,A[O].x2-=D,A[O].y2-=P,A[O].x-=D,A[O].y-=P),D=(b=[A[O].x,A[O].y])[0],P=b[1]}return A})(o,o.relative?0:u,o.relative?0:h):o}))},r.ANNOTATE_ARCS=function(){return i((function(o,u,h){return o.relative&&(u=0,h=0),E.ARC===o.type&&sn(o,u,h),o}))},r.CLONE=l,r.CALCULATE_BOUNDS=function(){var o=function(f){var p={};for(var v in f)p[v]=f[v];return p},u=t(),h=n(),a=e(),c=i((function(f,p,v){var g=a(h(u(o(f))));function b(Z){Z>c.maxX&&(c.maxX=Z),Z<c.minX&&(c.minX=Z)}function w(Z){Z>c.maxY&&(c.maxY=Z),Z<c.minY&&(c.minY=Z)}if(g.type&E.DRAWING_COMMANDS&&(b(p),w(v)),g.type&E.HORIZ_LINE_TO&&b(g.x),g.type&E.VERT_LINE_TO&&w(g.y),g.type&E.LINE_TO&&(b(g.x),w(g.y)),g.type&E.CURVE_TO){b(g.x),w(g.y);for(var T=0,N=Er(p,g.x1,g.x2,g.x);T<N.length;T++)0<(q=N[T])&&1>q&&b(Tr(p,g.x1,g.x2,g.x,q));for(var A=0,D=Er(v,g.y1,g.y2,g.y);A<D.length;A++)0<(q=D[A])&&1>q&&w(Tr(v,g.y1,g.y2,g.y,q))}if(g.type&E.ARC){b(g.x),w(g.y),sn(g,p,v);for(var P=g.xRot/180*Math.PI,O=Math.cos(P)*g.rX,C=Math.sin(P)*g.rX,R=-Math.sin(P)*g.rY,G=Math.cos(P)*g.rY,U=g.phi1<g.phi2?[g.phi1,g.phi2]:-180>g.phi2?[g.phi2+360,g.phi1+360]:[g.phi2,g.phi1],z=U[0],F=U[1],H=function(Z){var rt=Z[0],it=Z[1],It=180*Math.atan2(it,rt)/Math.PI;return It<z?It+360:It},Y=0,W=br(R,-O,0).map(H);Y<W.length;Y++)(q=W[Y])>z&&q<F&&b(wr(g.cX,O,R,q));for(var Q=0,$=br(G,-C,0).map(H);Q<$.length;Q++){var q;(q=$[Q])>z&&q<F&&w(wr(g.cY,C,G,q))}}return f}));return c.minX=1/0,c.maxX=-1/0,c.minY=1/0,c.maxY=-1/0,c}})(X||(X={}));var dt,ri=(function(){function r(){}return r.prototype.round=function(t){return this.transform(X.ROUND(t))},r.prototype.toAbs=function(){return this.transform(X.TO_ABS())},r.prototype.toRel=function(){return this.transform(X.TO_REL())},r.prototype.normalizeHVZ=function(t,e,n){return this.transform(X.NORMALIZE_HVZ(t,e,n))},r.prototype.normalizeST=function(){return this.transform(X.NORMALIZE_ST())},r.prototype.qtToC=function(){return this.transform(X.QT_TO_C())},r.prototype.aToC=function(){return this.transform(X.A_TO_C())},r.prototype.sanitize=function(t){return this.transform(X.SANITIZE(t))},r.prototype.translate=function(t,e){return this.transform(X.TRANSLATE(t,e))},r.prototype.scale=function(t,e){return this.transform(X.SCALE(t,e))},r.prototype.rotate=function(t,e,n){return this.transform(X.ROTATE(t,e,n))},r.prototype.matrix=function(t,e,n,i,s,l){return this.transform(X.MATRIX(t,e,n,i,s,l))},r.prototype.skewX=function(t){return this.transform(X.SKEW_X(t))},r.prototype.skewY=function(t){return this.transform(X.SKEW_Y(t))},r.prototype.xSymmetry=function(t){return this.transform(X.X_AXIS_SYMMETRY(t))},r.prototype.ySymmetry=function(t){return this.transform(X.Y_AXIS_SYMMETRY(t))},r.prototype.annotateArcs=function(){return this.transform(X.ANNOTATE_ARCS())},r})(),Do=function(r){return r===" "||r==="	"||r==="\r"||r===`
`},Mr=function(r){return 48<=r.charCodeAt(0)&&r.charCodeAt(0)<=57},Lo=(function(r){function t(){var e=r.call(this)||this;return e.curNumber="",e.curCommandType=-1,e.curCommandRelative=!1,e.canParseCommandOrComma=!0,e.curNumberHasExp=!1,e.curNumberHasExpDigits=!1,e.curNumberHasDecimal=!1,e.curArgs=[],e}return ei(t,r),t.prototype.finish=function(e){if(e===void 0&&(e=[]),this.parse(" ",e),this.curArgs.length!==0||!this.canParseCommandOrComma)throw new SyntaxError("Unterminated command at the path end.");return e},t.prototype.parse=function(e,n){var i=this;n===void 0&&(n=[]);for(var s=function(c){n.push(c),i.curArgs.length=0,i.canParseCommandOrComma=!0},l=0;l<e.length;l++){var o=e[l],u=!(this.curCommandType!==E.ARC||this.curArgs.length!==3&&this.curArgs.length!==4||this.curNumber.length!==1||this.curNumber!=="0"&&this.curNumber!=="1"),h=Mr(o)&&(this.curNumber==="0"&&o==="0"||u);if(!Mr(o)||h)if(o!=="e"&&o!=="E")if(o!=="-"&&o!=="+"||!this.curNumberHasExp||this.curNumberHasExpDigits)if(o!=="."||this.curNumberHasExp||this.curNumberHasDecimal||u){if(this.curNumber&&this.curCommandType!==-1){var a=Number(this.curNumber);if(isNaN(a))throw new SyntaxError("Invalid number ending at "+l);if(this.curCommandType===E.ARC){if(this.curArgs.length===0||this.curArgs.length===1){if(0>a)throw new SyntaxError('Expected positive number, got "'+a+'" at index "'+l+'"')}else if((this.curArgs.length===3||this.curArgs.length===4)&&this.curNumber!=="0"&&this.curNumber!=="1")throw new SyntaxError('Expected a flag, got "'+this.curNumber+'" at index "'+l+'"')}this.curArgs.push(a),this.curArgs.length===zo[this.curCommandType]&&(E.HORIZ_LINE_TO===this.curCommandType?s({type:E.HORIZ_LINE_TO,relative:this.curCommandRelative,x:a}):E.VERT_LINE_TO===this.curCommandType?s({type:E.VERT_LINE_TO,relative:this.curCommandRelative,y:a}):this.curCommandType===E.MOVE_TO||this.curCommandType===E.LINE_TO||this.curCommandType===E.SMOOTH_QUAD_TO?(s({type:this.curCommandType,relative:this.curCommandRelative,x:this.curArgs[0],y:this.curArgs[1]}),E.MOVE_TO===this.curCommandType&&(this.curCommandType=E.LINE_TO)):this.curCommandType===E.CURVE_TO?s({type:E.CURVE_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x2:this.curArgs[2],y2:this.curArgs[3],x:this.curArgs[4],y:this.curArgs[5]}):this.curCommandType===E.SMOOTH_CURVE_TO?s({type:E.SMOOTH_CURVE_TO,relative:this.curCommandRelative,x2:this.curArgs[0],y2:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.QUAD_TO?s({type:E.QUAD_TO,relative:this.curCommandRelative,x1:this.curArgs[0],y1:this.curArgs[1],x:this.curArgs[2],y:this.curArgs[3]}):this.curCommandType===E.ARC&&s({type:E.ARC,relative:this.curCommandRelative,rX:this.curArgs[0],rY:this.curArgs[1],xRot:this.curArgs[2],lArcFlag:this.curArgs[3],sweepFlag:this.curArgs[4],x:this.curArgs[5],y:this.curArgs[6]})),this.curNumber="",this.curNumberHasExpDigits=!1,this.curNumberHasExp=!1,this.curNumberHasDecimal=!1,this.canParseCommandOrComma=!0}if(!Do(o))if(o===","&&this.canParseCommandOrComma)this.canParseCommandOrComma=!1;else if(o!=="+"&&o!=="-"&&o!==".")if(h)this.curNumber=o,this.curNumberHasDecimal=!1;else{if(this.curArgs.length!==0)throw new SyntaxError("Unterminated command at index "+l+".");if(!this.canParseCommandOrComma)throw new SyntaxError('Unexpected character "'+o+'" at index '+l+". Command cannot follow comma");if(this.canParseCommandOrComma=!1,o!=="z"&&o!=="Z")if(o==="h"||o==="H")this.curCommandType=E.HORIZ_LINE_TO,this.curCommandRelative=o==="h";else if(o==="v"||o==="V")this.curCommandType=E.VERT_LINE_TO,this.curCommandRelative=o==="v";else if(o==="m"||o==="M")this.curCommandType=E.MOVE_TO,this.curCommandRelative=o==="m";else if(o==="l"||o==="L")this.curCommandType=E.LINE_TO,this.curCommandRelative=o==="l";else if(o==="c"||o==="C")this.curCommandType=E.CURVE_TO,this.curCommandRelative=o==="c";else if(o==="s"||o==="S")this.curCommandType=E.SMOOTH_CURVE_TO,this.curCommandRelative=o==="s";else if(o==="q"||o==="Q")this.curCommandType=E.QUAD_TO,this.curCommandRelative=o==="q";else if(o==="t"||o==="T")this.curCommandType=E.SMOOTH_QUAD_TO,this.curCommandRelative=o==="t";else{if(o!=="a"&&o!=="A")throw new SyntaxError('Unexpected character "'+o+'" at index '+l+".");this.curCommandType=E.ARC,this.curCommandRelative=o==="a"}else n.push({type:E.CLOSE_PATH}),this.canParseCommandOrComma=!0,this.curCommandType=-1}else this.curNumber=o,this.curNumberHasDecimal=o==="."}else this.curNumber+=o,this.curNumberHasDecimal=!0;else this.curNumber+=o;else this.curNumber+=o,this.curNumberHasExp=!0;else this.curNumber+=o,this.curNumberHasExpDigits=this.curNumberHasExp}return n},t.prototype.transform=function(e){return Object.create(this,{parse:{value:function(n,i){i===void 0&&(i=[]);for(var s=0,l=Object.getPrototypeOf(this).parse.call(this,n);s<l.length;s++){var o=l[s],u=e(o);Array.isArray(u)?i.push.apply(i,u):i.push(u)}return i}}})},t})(ri),E=(function(r){function t(e){var n=r.call(this)||this;return n.commands=typeof e=="string"?t.parse(e):e,n}return ei(t,r),t.prototype.encode=function(){return t.encode(this.commands)},t.prototype.getBounds=function(){var e=X.CALCULATE_BOUNDS();return this.transform(e),e},t.prototype.transform=function(e){for(var n=[],i=0,s=this.commands;i<s.length;i++){var l=e(s[i]);Array.isArray(l)?n.push.apply(n,l):n.push(l)}return this.commands=n,this},t.encode=function(e){return ni(e)},t.parse=function(e){var n=new Lo,i=[];return n.parse(e,i),n.finish(i),i},t.CLOSE_PATH=1,t.MOVE_TO=2,t.HORIZ_LINE_TO=4,t.VERT_LINE_TO=8,t.LINE_TO=16,t.CURVE_TO=32,t.SMOOTH_CURVE_TO=64,t.QUAD_TO=128,t.SMOOTH_QUAD_TO=256,t.ARC=512,t.LINE_COMMANDS=t.LINE_TO|t.HORIZ_LINE_TO|t.VERT_LINE_TO,t.DRAWING_COMMANDS=t.HORIZ_LINE_TO|t.VERT_LINE_TO|t.LINE_TO|t.CURVE_TO|t.SMOOTH_CURVE_TO|t.QUAD_TO|t.SMOOTH_QUAD_TO|t.ARC,t})(ri),zo=((dt={})[E.MOVE_TO]=2,dt[E.LINE_TO]=2,dt[E.HORIZ_LINE_TO]=1,dt[E.VERT_LINE_TO]=1,dt[E.CLOSE_PATH]=0,dt[E.QUAD_TO]=4,dt[E.SMOOTH_QUAD_TO]=2,dt[E.CURVE_TO]=6,dt[E.SMOOTH_CURVE_TO]=4,dt[E.ARC]=7,dt),Ot;function Pt(r){if(r.children!==void 0)return r.children;let t,e=0;const n=r.childNodes,i=[];for(;t=n[e++];)t.nodeType===1&&i.push(t);return i}function Tn(r){const t=r.parentNode;return t&&t.nodeType===Node.ELEMENT_NODE?t:null}function on(r,t){for(;t.firstChild;)r.append(t.firstChild);return r}function qt(r){if(r===null)return null;const t=/url\('#?(.*?)'\)/.exec(r)||/url\("#?(.*?)"\)/.exec(r)||/url\(#?(.*?)\)/.exec(r);return t&&t.length>1?t[1]:null}(function(r){r[r.SVG=0]="SVG",r[r.CANVAS=1]="CANVAS"})(Ot||(Ot={}));const ie="data-sketchy-clip-path",Fo=/[acsqt]/i;function Mn(r){if(r.svgSketchDefs)return r.svgSketchDefs;const t=r.svgSketch,e=document.createElementNS("http://www.w3.org/2000/svg","defs");return t.childElementCount>0?t.insertBefore(e,t.firstElementChild):t.appendChild(e),r.svgSketchDefs=e,e}function Sr(r){const t=r.getAttribute("points");if(!t)return[];let e;e=t.indexOf(" ")>0?/\s+/g:/,/g;const n=t.split(e),i=[];for(let s=0;s<n.length;s++){const l=n[s],o=l.split(",");if(o.length===2)i.push({x:parseFloat(o[0]),y:parseFloat(o[1])});else{const u=s+1;u<n.length&&(i.push({x:parseFloat(l),y:parseFloat(n[u])}),s=u)}}return i}function ut(r,t,e){let n=e;const i=t.getAttribute(ie),s=r.pencilFilter&&t.tagName!=="text";if(!(n.tagName==="g"&&n.attributes.length===0)&&(i||s)){const l=document.createElementNS("http://www.w3.org/2000/svg","g");l.appendChild(n),n=l}i&&(n.setAttribute("clip-path",`url(#${i})`),t.removeAttribute(ie)),s&&n.setAttribute("filter","url(#pencilTextureFilter)"),r.svgSketch.appendChild(n)}function Ee(r,t,e){return Fo.test(t)&&(e=e?Object.assign(Object.assign({},e),{preserveVertices:!0}):{preserveVertices:!0}),r.rc.path(t,e)}function K(r,t,e,n){let i;if(i=n?t.getAttribute(e):getComputedStyle(t)[e]||t.getAttribute(e),!i){let s=Tn(t);const l=n;let o=l;return l&&l.referenced===t&&(s=l.root,o=l.parentContext),!s||s===r.sourceSvg?void 0:K(r,s,e,o)}return i}function ii(r,t,e,n){let i;if(i=n?t.getAttribute("opacity"):getComputedStyle(t).opacity||t.getAttribute("opacity"),i){let u=1;u=i.indexOf("%")!==-1?Math.min(1,Math.max(0,parseFloat(i.substring(0,i.length-1))/100)):Math.min(1,Math.max(0,parseFloat(i))),e*=u}let s=Tn(t);const l=n;let o=l;return l&&l.referenced===t&&(s=l.root,o=l.parentContext),s&&s!==r.sourceSvg?ii(r,s,e,o):e}function Ft(r,t,e){const{fillId:n,strokeId:i}=(function(s,l){function o(u){const h=l.getAttribute(u);if(h&&h.indexOf("url")!==-1){const a=qt(h);if(a&&s.idElements[a]instanceof SVGPatternElement)return a}return null}return{fillId:o("fill"),strokeId:o("stroke")}})(r,t);if(n!==null||i!==null){const s=e();s.setAttribute("fill",n!==null?`url(#${n})`:"none"),s.setAttribute("stroke",i!==null?`url(#${i})`:"none");const l=K(r,t,"stroke-width",r.useElementContext);s.setAttribute("stroke-width",l??"0"),ut(r,t,s),Ar(r,n),Ar(r,i)}}function Ar(r,t){if(t===null)return;const e=Mn(r),n=`#${t}`;if(!e.querySelector(n)){const i=r.sourceSvg.querySelector(n);if(i){if(!r.sketchPatterns)return void e.appendChild(i.cloneNode(!0));const s=(function(o,u,h){const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.appendChild(u);const c=Object.assign(Object.assign({},o),{sourceSvg:a,svgSketch:document.createElementNS("http://www.w3.org/2000/svg","svg"),roughConfig:Object.assign(Object.assign({},o.roughConfig),h)});return c.processElement(c,u,null),on(document.createElementNS("http://www.w3.org/2000/svg","g"),c.svgSketch)})(r,on(document.createElementNS("http://www.w3.org/2000/svg","g"),i.cloneNode(!0)),{fillStyle:"solid",roughness:.5}),l=i.cloneNode();e.appendChild(on(l,s))}}}const Zo=/^([+-]?(?:\d+|\d*\.\d+(?:[eE][+-]?\d+)?))([a-z]*|%)$/,_r={in:96,cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,px:1},Ho=Math.sqrt(2);function ee(r,t,e,n){const{value:i,unit:s}=an(e);return(function(l){return!!_r[l]})(s)?(function(l,o){var u;const h=(u=_r[o])!==null&&u!==void 0?u:1;return l*h})(i,s):(function(l,o,u,h,a){var c;const f=(c=l.viewBox)!==null&&c!==void 0?c:{w:0,h:0};if(a==="%")return(function(p,v,{w:g,h:b}={w:0,h:0}){const w=v/100;return p==="x"?w*g:p==="y"?w*b:w*(Math.sqrt(g*g+b*b)/Ho)})(u,h,f);if(a==="vw"||a==="vh"||a==="vmin"||a==="vmax")return(function(p,v,{w:g,h:b}={w:0,h:0}){var w,T;const N=p/100,A=(w=window.innerWidth)!==null&&w!==void 0?w:g,D=(T=window.innerHeight)!==null&&T!==void 0?T:b;if(v==="vw")return N*A;if(v==="vh")return N*D;if(v==="vmin")return N*Math.min(A,D);if(v==="vmax")return N*Math.max(A,D);throw new Error(`Not a viewport length unit: ${v}`)})(h,a,f);if(a==="em"||a==="ex"||a==="ch"||a==="rem")return(function(p,v,g,b){var w;if(b==="rem"){const D=document.documentElement,P=an(getComputedStyle(D).fontSize);return g*(P.unit==="px"?P.value:16)}if(b==="ch"){const D=(function(P){const O=Tn(P);if(!O)return 1;const C=document.createElementNS("http://www.w3.org/2000/svg","text");C.style.visibility="hidden",C.appendChild(document.createTextNode("0")),O.appendChild(C);const R=C.getBBox();return O.removeChild(C),R.width})(v);return g*D}const T=(w=K(p,v,"font-size",p.useElementContext))!==null&&w!==void 0?w:"16px",N=an(T),A=N.unit==="px"?N.value:16;if(b==="em")return g*A;if(b==="ex")return g*A*.5;throw new Error(`Not a font relative unit: ${b}`)})(l,o,h,a);throw new Error(`Unsupported relative length unit: ${a}`)})(r,t,n,i,s)}function an(r){const t=r.match(Zo);if(t===null||t.length!==3)throw new Error(`Cannot parse dimension: ${r}`);return{value:parseFloat(t[1]),unit:t[2].toLowerCase()||"px"}}function ne(r){if(!r)return!0;const t=r.matrix;return!t||t.a===1&&t.b===0&&t.c===0&&t.d===1&&t.e===0&&t.f===0}function ln(r){if(!r)return!0;const t=r.matrix;return!t||t.a===1&&t.b===0&&t.c===0&&t.d===1}function I(r,t){if(!t)return r;const e=t.matrix;return{x:e.a*r.x+e.c*r.y+e.e,y:e.b*r.x+e.d*r.y+e.f}}function Cr(r){return r.transform&&r.transform.baseVal.numberOfItems>0?r.transform.baseVal.consolidate():null}function se(r,t,e){if(!e)return Cr(t);const n=Cr(t);if(n){const i=n.matrix,s=e.matrix.multiply(i);return r.sourceSvg.createSVGTransformFromMatrix(s)}return e}function Nt(r,t,e){if(t&&t.matrix&&!ne(t)){const n=t.matrix;e.transform.baseVal.numberOfItems>0?e.transform.baseVal.getItem(0).setMatrix(n):e.transform.baseVal.appendItem(t)}}function Or(r){var t;let e=r.getAttribute("stop-color");if(!e){const n=(t=r.getAttribute("style"))!==null&&t!==void 0?t:"",i=/stop-color:\s?(.*);?/.exec(n);i&&i.length>1&&(e=i[1])}return _(e||"white")}function Nr(r){const t=r.length;let e=0,n=0,i=0,s=0;return r.forEach((l=>{const o=l.toRgb();e+=o.r*o.r,n+=o.g*o.g,i+=o.b*o.b,s+=o.a})),_({r:Math.sqrt(e/t),g:Math.sqrt(n/t),b:Math.sqrt(i/t),a:s/t})}function Uo(r){const t=r.getAttribute("offset");return t?t.indexOf("%")?parseFloat(t.substring(0,t.length-1)):100*parseFloat(t):0}function qo(r,t){if(r.roughConfig.fillStyle==="solid")return{angle:0,gap:0,weight:0};const{width:e,height:n}=t.getBoundingClientRect(),i=e/n,s=Math.sqrt(e*n),{angle:l,gap:o,weight:u}=(function(h){const a={angle:{normal:[-30,-50],horizontal:[-30,-50],vertical:[-30,-50]},weight:{normal:[.5,3],small:[.5,3]},gap:{normal:[3,5],small:[3,5]}},c={angle:{normal:[-30,-50],horizontal:[-50,-75],vertical:[-30,-15]},weight:{normal:[1,3],small:[.5,1.7]},gap:{normal:[2,5],small:[1,3]}};switch(h){default:return c;case"zigzag":case"zigzag-line":return Object.assign(Object.assign({},c),{weight:{normal:[.5,3],small:[.5,2]},gap:{normal:[2,6],small:[2,5]}});case"cross-hatch":return Object.assign(Object.assign({},c),{weight:{normal:[1,3],small:[.5,1.3]},gap:{normal:[4,8],small:[2,5]}});case"dots":return a}})(r.roughConfig.fillStyle);return{angle:Bo(r,l,i),gap:Go(r,o,s),weight:Wo(r,u,s)}}function Bo({rng:r},{normal:t,horizontal:e,vertical:n},i){if(isFinite(i)){if(i<.25)return r.next(e);if(i>6)return r.next(n)}return r.next(t)}function Go({rng:r},{normal:t,small:e},n){return n<45?r.next(e):r.next(t)}function Wo({rng:r},{normal:t,small:e},n){return n<45?r.next(e):r.next(t)}function wt(r,t,e){var n;const i=(n=r.roughConfig.fixedDecimalPlaceDigits)!==null&&n!==void 0?n:15,s=Object.assign({},r.roughConfig);let l=1;if(!ne(e)){const g=e.matrix,b=g.a*g.d-g.c*g.b;l=Math.sqrt(Math.abs(b))}const o=ii(r,t,1,r.useElementContext),u=K(r,t,"fill",r.useElementContext)||"black",h=o*Pr(t,"fill-opacity");if(u.indexOf("url")!==-1){const g=kr(r,u,h);g!=="none"?s.fill=g:delete s.fill}else if(u==="none")delete s.fill;else{const g=_(u);g.setAlpha(h),s.fill=g.toString()}const a=K(r,t,"stroke",r.useElementContext),c=o*Pr(t,"stroke-opacity");if(a)if(a.indexOf("url")!==-1)s.stroke=kr(r,a,c);else if(a==="none")s.stroke="none";else{const g=_(a);g.setAlpha(c),s.stroke=g.toString()}else s.stroke="none";const f=K(r,t,"stroke-width",r.useElementContext);if(f){const g=ee(r,t,f,"stroke-width")*l;s.strokeWidth=parseFloat(g.toFixed(i))}else s.strokeWidth=1;const p=K(r,t,"stroke-dasharray",r.useElementContext);p&&p!=="none"&&(s.strokeLineDash=p.split(/[\s,]+/).filter((g=>g.length>0)).map((g=>{const b=ee(r,t,g,"stroke-dasharray")*l;return Math.max(.5,parseFloat(b.toFixed(i)))})));const v=K(r,t,"stroke-dashoffset",r.useElementContext);if(v){const g=ee(r,t,v,"stroke-dashoffset")*l;s.strokeLineDashOffset=parseFloat(g.toFixed(i))}if(s.fill&&s.stroke==="none"&&(s.stroke=s.fill,s.strokeWidth=1),r.randomize){const{angle:g,gap:b,weight:w}=qo(r,t);s.hachureAngle=g,s.hachureGap=Math.round(b),s.fillWeight=parseFloat(w.toFixed(i)),s.disableMultiStroke===void 0&&(s.disableMultiStroke=r.rng.next()>.3)}return s}function Pr(r,t){const e=getComputedStyle(r)[t]||r.getAttribute(t);return e?e.indexOf("%")!==-1?Math.min(1,Math.max(0,parseFloat(e.substring(0,e.length-1))/100)):Math.min(1,Math.max(0,parseFloat(e))):1}function kr(r,t,e){const n=qt(t);if(!n)return"none";const i=r.idElements[n];if(!i)return"none";if(typeof i=="string")return i;if(i instanceof SVGLinearGradientElement||i instanceof SVGRadialGradientElement){const s=(function(l,o){const u=Array.prototype.slice.apply(l.querySelectorAll("stop"));if(u.length===0)return"transparent";if(u.length===1){const h=Or(u[0]);return h.setAlpha(o),h.toString()}{const a=[];let c=null;for(let p=0;p<u.length;p++){const v=Or(u[p]),g=Uo(u[p]),b=c?Nr([c,v]):v;let w=Math.max(1,g/10|0);for(;w>0;)a.push(b),w--;c=v}const f=Nr(a);return f.setAlpha(o),f.toString()}})(i,e);return r.idElements[n]=s,s}return"none"}function V(r){return`${r.x},${r.y}`}function Te(r,t,e,n){if(e.length===0)return;const i=e[0],s=e[e.length-1],l=qt(t.getAttribute("marker-start")),o=l?r.idElements[l]:null;if(o&&e.length>1){let f=o.orientAngle.baseVal.value;const p=e[1],v=o.getAttribute("orient");if(v==="auto"||v==="auto-start-reverse"){const T=v==="auto"?0:180,N=e[e.length-2];Ir(e)?f=hn(N,s,p)-T:f=ke({x:1,y:0},{x:p.x-i.x,y:p.y-i.y})-T}const g=r.sourceSvg.createSVGMatrix().translate(i.x,i.y).rotate(f).scale(un(r,o,t)),b=n?n.matrix.multiply(g):g,w=r.sourceSvg.createSVGTransformFromMatrix(b);r.processElement(r,o,w)}const u=qt(t.getAttribute("marker-end")),h=u?r.idElements[u]:null;if(h){let f=h.orientAngle.baseVal.value;if(e.length>1){const b=h.getAttribute("orient");if(b==="auto"||b==="auto-start-reverse"){const w=e[e.length-2];Ir(e)?f=hn(w,s,e[1]):f=ke({x:1,y:0},{x:s.x-w.x,y:s.y-w.y})}}const p=r.sourceSvg.createSVGMatrix().translate(s.x,s.y).rotate(f).scale(un(r,h,t)),v=n?n.matrix.multiply(p):p,g=r.sourceSvg.createSVGTransformFromMatrix(v);r.processElement(r,h,g)}const a=qt(t.getAttribute("marker-mid")),c=a?r.idElements[a]:null;if(c&&e.length>2)for(let f=0;f<e.length;f++){const p=e[f];if(f===0||f===e.length-1)continue;let v=c.orientAngle.baseVal.value;const g=c.getAttribute("orient");(g==="auto"||g==="auto-start-reverse")&&(v=hn(e[f-1],p,e[f+1]));const b=r.sourceSvg.createSVGMatrix().translate(p.x,p.y).rotate(v).scale(un(r,c,t)),w=n?n.matrix.multiply(b):b,T=r.sourceSvg.createSVGTransformFromMatrix(w);r.processElement(r,c,T)}}function un(r,t,e){const n=t.getAttribute("markerUnits");let i=1;if(!n||n==="strokeWidth"){const s=K(r,e,"stroke-width");s&&(i=ee(r,e,s,"stroke-width"))}return i}function Ir(r){return t=r[0],e=r[r.length-1],t.x===e.x&&t.y===e.y;var t,e}function hn(r,t,e){const n={x:e.x-t.x,y:e.y-t.y},i=ke(n,{x:r.x-t.x,y:r.y-t.y}),s=t.x+1,l=t.y,o=ke(n,{x:s-t.x,y:l-t.y});return((u=i)-180*Math.sign(u))/2-o;var u}function ke(r,t){const e=Math.atan2(r.y,r.x),n=Math.atan2(t.y,t.x)-e,i=-Math.sign(n)*Math.PI*2,s=Math.abs(i+n)<Math.abs(n)?i+n:n;return Math.round(360*s/(2*Math.PI))}function Rr(r,t,{x:e,y:n,w:i,h:s}){Ft(r,t,(()=>{const l=document.createElementNS("http://www.w3.org/2000/svg","rect");return l.x.baseVal.value=e,l.y.baseVal.value=n,l.width.baseVal.value=i,l.height.baseVal.value=s,l}))}function Xo(r,t,e,n){const i=qt(e);if(!i)return;const s=r.idElements[i];if(!s)return;const l=Mn(r),o=`${i}_${l.childElementCount}`,u=document.createElementNS("http://www.w3.org/2000/svg","clipPath");u.id=o,(function(c,f){if(c.tagName!=="g")return void c.setAttribute(ie,f);const p=[],v=Pt(c);for(let g=v.length-1;g>=0;g--)p.push(v[g]);for(;p.length>0;){const g=p.pop();g.setAttribute(ie,f);const b=Pt(g);for(let w=b.length-1;w>=0;w--)p.push(b[w])}})(t,o);const h=[],a=Pt(s);for(let c=a.length-1;c>=0;c--){const f=a[c],p=se(r,f,n);h.push({element:f,transform:p})}for(;h.length>0;){const{element:c,transform:f}=h.pop();try{Yo(r,c,u,f)}catch(v){console.error(v)}if(c.tagName==="defs"||c.tagName==="svg"||c.tagName==="clipPath"||c.tagName==="text")continue;const p=Pt(c);for(let v=p.length-1;v>=0;v--){const g=p[v],b=se(r,g,f);h.push({element:g,transform:b})}}u.childNodes.length>0&&l.appendChild(u)}function Yo(r,t,e,n){switch(t.tagName){case"rect":(function(i,s,l,o){const u=s.x.baseVal.value,h=s.y.baseVal.value,a=s.width.baseVal.value,c=s.height.baseVal.value;if(a===0||c===0)return;const f=s.hasAttribute("rx")?s.rx.baseVal.value:null,p=s.hasAttribute("ry")?s.ry.baseVal.value:null,v=document.createElementNS("http://www.w3.org/2000/svg","rect");v.x.baseVal.value=u,v.y.baseVal.value=h,v.width.baseVal.value=a,v.height.baseVal.value=c,f&&(v.rx.baseVal.value=f),p&&(v.ry.baseVal.value=p),Nt(0,o,v),l.appendChild(v)})(0,t,e,n);break;case"circle":(function(i,s,l,o){const u=s.cx.baseVal.value,h=s.cy.baseVal.value,a=s.r.baseVal.value;if(a===0)return;const c=document.createElementNS("http://www.w3.org/2000/svg","circle");c.cx.baseVal.value=u,c.cy.baseVal.value=h,c.r.baseVal.value=a,Nt(0,o,c),l.appendChild(c)})(0,t,e,n);break;case"ellipse":(function(i,s,l,o){const u=s.cx.baseVal.value,h=s.cy.baseVal.value,a=s.rx.baseVal.value,c=s.ry.baseVal.value;if(a===0||c===0)return;const f=document.createElementNS("http://www.w3.org/2000/svg","ellipse");f.cx.baseVal.value=u,f.cy.baseVal.value=h,f.rx.baseVal.value=a,f.ry.baseVal.value=c,Nt(0,o,f),l.appendChild(f)})(0,t,e,n);break;case"polygon":(function(i,s,l,o){const u=document.createElementNS("http://www.w3.org/2000/svg","polygon");u.setAttribute("points",s.getAttribute("points")),Nt(0,o,u),l.appendChild(u)})(0,t,e,n);break;case"path":(function(i,s,l,o){const u=document.createElementNS("http://www.w3.org/2000/svg","path");u.setAttribute("d",s.getAttribute("d")),Nt(0,o,u),l.appendChild(u)})(0,t,e,n)}}function $o(r,t,e){const n=document.createElementNS("http://www.w3.org/2000/svg","g");n.setAttribute("class","text-container"),Nt(0,e,n);const i=t.cloneNode(!0);i.transform.baseVal.numberOfItems>0&&i.transform.baseVal.clear(),i.removeAttribute("clip-path");const{cssFont:s,fontSize:l}=(function(h,a,c=!1){const f={};let p="";const v=K(h,a,"font-style",h.useElementContext);v&&(p+=c?`font-style: ${v};`:v,f.fontStyle=v);const g=K(h,a,"font-weight",h.useElementContext);g&&(p+=c?`font-weight: ${g};`:` ${g}`,f.fontWeight=g);const b=K(h,a,"font-size",h.useElementContext);if(b&&(p+=c?`font-size: ${b};`:` ${b}`,f.fontSize=b),h.fontFamily)p+=c?`font-family: ${h.fontFamily};`:` ${h.fontFamily}`,f.fontFamiliy=h.fontFamily;else{const w=K(h,a,"font-family",h.useElementContext);w&&(p+=c?`font-family: ${w};`:` ${w}`,f.fontFamiliy=w)}return p=p.trim(),Object.assign(Object.assign({},f),{cssFont:p})})(r,t,!0);if(i.setAttribute("style",(function(...h){let a="";h=h.filter((c=>c!==null));for(const c of h)a.length>0&&a[a.length-1]!==";"&&(a+=";"),a+=c;return a})(i.getAttribute("style"),s)),Vr(r,t,i),i.childElementCount>0){const h=Pt(i),a=Pt(t);for(let c=0;c<h.length;c++){const f=h[c];f instanceof SVGTSpanElement&&Vr(r,a[c],f)}}n.appendChild(i),ut(r,t,n);const o=r.fontFamily!==null,u=i.hasAttribute(ie);o&&u&&l&&(function(h,a,c,f){const{width:p,height:v}=a.getBBox();if(p<=0||v<=0)return;const g=ee(h,c,f,"font-size");si(h,{w:p},c,g)})(r,t,i,l)}function si(r,t,e,n){const{w:i}=(function({svgSketch:l,svgSketchIsInDOM:o},u){const h="visibility:hidden;position:absolute;left:-100%;top-100%;",a=l.getAttribute("style");a?l.setAttribute("style",`${a};${h}`):l.setAttribute("style",h);const c=document.body,f=l.parentElement;o||c.appendChild(l);const{width:p,height:v}=u.getBBox();return o||(c.removeChild(l),f&&f.appendChild(l)),a?l.setAttribute("style",a):l.removeAttribute("style"),{w:p,h:v}})(r,e);if(i<t.w||n<=1)return;const s=n-1;e.style.fontSize=`${s}px`,si(r,t,e,s)}function Vr(r,t,e){const n=K(r,t,"stroke"),i=n?K(r,t,"stroke-width"):null,s=K(r,t,"fill"),l=K(r,t,"dominant-baseline"),o=K(r,t,"text-anchor",r.useElementContext);n&&e.setAttribute("stroke",n),i&&e.setAttribute("stroke-width",i),s&&e.setAttribute("fill",s),o&&e.setAttribute("text-anchor",o),l&&e.setAttribute("dominant-baseline",l)}function oi(r,t,e,n,i){var s,l;const o=[],u={x:0,y:0,w:n??0,h:i??0};if(t instanceof SVGSVGElement||t instanceof SVGSymbolElement||t instanceof SVGMarkerElement){let h=0,a=0;if(t instanceof SVGSymbolElement)h=parseFloat((s=t.getAttribute("x"))!==null&&s!==void 0?s:"")||0,a=parseFloat((l=t.getAttribute("y"))!==null&&l!==void 0?l:"")||0,n=n??(parseFloat(t.getAttribute("width"))||void 0),i=i??(parseFloat(t.getAttribute("height"))||void 0);else if(t instanceof SVGMarkerElement){const v=t.getAttribute("markerWidth"),g=t.getAttribute("markerHeight");n=v!==null?parseFloat(v):3,i=g!==null?parseFloat(g):3}else t!==r.sourceSvg&&(h=t.x.baseVal.value,a=t.y.baseVal.value);let c=r.sourceSvg.createSVGMatrix();if(t.getAttribute("viewBox")){const{x:v,y:g,width:b,height:w}=t.viewBox.baseVal;if(u.x=v,u.y=g,u.w=b,u.h=w,n!==void 0&&i!==void 0){const T=n/b,N=i/w,A=h+.5*n,D=a+.5*i,P=v+.5*b,O=g+.5*w;c=c.translate(A,D),c=t.getAttribute("preserveAspectRatio")==="none"?c.scaleNonUniform(T,N):c.scale(Math.min(T,N)),c=c.translate(-P,-O)}}else c=c.translate(h,a);t instanceof SVGMarkerElement&&(c=c.translate(-t.refX.baseVal.value,-t.refY.baseVal.value));const f=e?e.matrix.multiply(c):c;e=r.sourceSvg.createSVGTransformFromMatrix(f);const p=Pt(t);for(let v=p.length-1;v>=0;v--){const g=p[v];if(g instanceof SVGSymbolElement||g instanceof SVGMarkerElement)continue;const b=se(r,g,e);o.push({element:g,transform:b,viewBox:u})}}else o.push({element:t,transform:e,viewBox:u});for(;o.length>0;){const{element:h,transform:a,viewBox:c}=o.pop();try{r.viewBox=c,jo(r,h,a)}catch(p){console.error(p)}if(h.tagName==="defs"||h.tagName==="symbol"||h.tagName==="marker"||h.tagName==="svg"||h.tagName==="clipPath")continue;const f=Pt(h);for(let p=f.length-1;p>=0;p--){const v=f[p],g=se(r,v,a);o.push({element:v,transform:g,viewBox:c})}}}function jo(r,t,e){if((function(i){const s=i.style;return!!s&&(s.display==="none"||s.visibility==="hidden")})(t))return;const n=t.getAttribute("clip-path");switch(n&&Xo(r,t,n,e),t.tagName){case"svg":case"symbol":(function(i,s,l){let o=parseFloat(s.getAttribute("width")),u=parseFloat(s.getAttribute("height"));(isNaN(o)||isNaN(u))&&(o=u=void 0),oi(i,s,l,o,u)})(r,t,e);break;case"rect":(function(i,s,l){const o=s.x.baseVal.value,u=s.y.baseVal.value,h=s.width.baseVal.value,a=s.height.baseVal.value;if(h===0||a===0)return;let c=s.hasAttribute("rx")?Math.min(Math.max(0,s.rx.baseVal.value),h/2):null,f=s.hasAttribute("ry")?Math.min(Math.max(0,s.ry.baseVal.value),a/2):null;c===null&&f===null||(c=c===null?f:c,f=f===null?c:f);const p=I({x:o,y:u},l),v=I({x:o+h,y:u+a},l),g=v.x-p.x,b=v.y-p.y,w={x:p.x,y:p.y,w:g,h:b};if(!ne(l)&&!ln(l)||c||f){let T="";if(c!==null&&f!==null){const A=1.3333333333333333*(Math.sqrt(2)-1),D=I({x:o+c,y:u},l);T+=`M ${V(D)}`,T+=`L ${V(I({x:o+h-c,y:u},l))}`;const P=I({x:o+h-c+A*c,y:u},l),O=I({x:o+h,y:u+A*f},l),C=I({x:o+h,y:u+f},l);T+=`C ${V(P)} ${V(O)} ${V(C)}`,T+=`L ${V(I({x:o+h,y:u+a-f},l))}`;const R=I({x:o+h,y:u+a-f+A*f},l),G=I({x:o+h-A*c,y:u+a},l),U=I({x:o+h-c,y:u+a},l);T+=`C ${V(R)} ${V(G)} ${V(U)}`,T+=`L ${V(I({x:o+c,y:u+a},l))}`;const z=I({x:o+c-A*c,y:u+a},l),F=I({x:o,y:u+a-A*f},l),H=I({x:o,y:u+a-f},l);T+=`C ${V(z)} ${V(F)} ${V(H)}`,T+=`L ${V(I({x:o,y:u+f},l))}`;const Y=I({x:o,y:u+A*f},l),W=I({x:o+A*c,y:u},l);T+=`C ${V(Y)} ${V(W)} ${V(D)}`,T+="z"}else{const A=I({x:o,y:u},l),D=I({x:o+h,y:u},l),P=I({x:o+h,y:u+a},l),O=I({x:o,y:u+a},l);T+=`M ${V(A)}`,T+=`L ${V(D)}`,T+=`L ${V(P)}`,T+=`L ${V(O)}`,T+="z"}const N=Ee(i,T,wt(i,s,l));Rr(i,s,w),ut(i,s,N)}else{const T=i.rc.rectangle(w.x,w.y,w.w,w.h,wt(i,s,l));Rr(i,s,w),ut(i,s,T)}})(r,t,e);break;case"path":(function(i,s,l){const o=s.getAttribute("d"),u=new E(o).toAbs().transform(X.NORMALIZE_HVZ()).transform(X.NORMALIZE_ST()),h=new E(u.commands.map((v=>Object.assign({},v))));l&&h.transform(X.MATRIX(l.matrix.a,l.matrix.b,l.matrix.c,l.matrix.d,l.matrix.e,l.matrix.f));const a=ni(h.commands);if(a.indexOf("undefined")!==-1)return void console.error("broken path data");const c=Ee(i,a,wt(i,s,l));Ft(i,s,(()=>{const v=document.createElementNS("http://www.w3.org/2000/svg","path");return v.setAttribute("d",a),v})),ut(i,s,c);const f=[];let p;u.commands.forEach((v=>{switch(v.type){case E.MOVE_TO:{const g={x:v.x,y:v.y};f.push(g),p=g;break}case E.LINE_TO:case E.QUAD_TO:case E.SMOOTH_QUAD_TO:case E.CURVE_TO:case E.SMOOTH_CURVE_TO:case E.ARC:f.push({x:v.x,y:v.y});break;case E.HORIZ_LINE_TO:f.push({x:v.x,y:0});break;case E.VERT_LINE_TO:f.push({x:0,y:v.y});break;case E.CLOSE_PATH:p&&f.push(p)}})),Te(i,s,f,l)})(r,t,e);break;case"use":(function(i,s,l){let o=s.href.baseVal;o.startsWith("#")&&(o=o.substring(1));const u=i.idElements[o];if(u){let h,a;s.getAttribute("width")&&s.getAttribute("height")&&(h=s.width.baseVal.value,a=s.height.baseVal.value);const c=s.x.baseVal.value,f=s.y.baseVal.value;let p=i.sourceSvg.createSVGMatrix().translate(c,f);p=l?l.matrix.multiply(p):p;const v=i.sourceSvg.createSVGTransformFromMatrix(p);if(i.useElementContext){const g={root:s,referenced:u,parentContext:Object.assign({},i.useElementContext)};i.useElementContext=g}else i.useElementContext={root:s,referenced:u,parentContext:null};i.processElement(i,u,se(i,u,v),h,a),i.useElementContext.parentContext?i.useElementContext=i.useElementContext.parentContext:i.useElementContext=null}})(r,t,e);break;case"line":(function(i,s,l){const o={x:s.x1.baseVal.value,y:s.y1.baseVal.value},u={x:s.x2.baseVal.value,y:s.y2.baseVal.value},{x:h,y:a}=I(o,l),{x:c,y:f}=I(u,l);if(h===c&&a===f)return;const p=i.rc.line(h,a,c,f,wt(i,s,l));Ft(i,s,(()=>{const v=document.createElementNS("http://www.w3.org/2000/svg","line");return v.x1.baseVal.value=h,v.y1.baseVal.value=a,v.x2.baseVal.value=c,v.y2.baseVal.value=f,v})),ut(i,s,p),Te(i,s,[o,u],l)})(r,t,e);break;case"circle":(function(i,s,l){const o=s.cx.baseVal.value,u=s.cy.baseVal.value,h=s.r.baseVal.value;if(h===0)return;const a=I({x:o,y:u},l),c=I({x:o+h,y:u+h},l).x-a.x;let f;if(ne(l)||ln(l))f=i.rc.circle(a.x,a.y,2*c,Object.assign(Object.assign({},wt(i,s,l)),{preserveVertices:!0}));else{const p=1.3333333333333333*(Math.sqrt(2)-1),v=I({x:o+h,y:u},l),g=I({x:o,y:u+h},l),b=I({x:o-h,y:u},l),w=I({x:o,y:u-h},l),T=I({x:o+h,y:u+p*h},l),N=I({x:o+p*h,y:u+h},l),A=I({x:o-h,y:u+p*h},l),D=I({x:o-p*h,y:u-h},l),P=I({x:o+h,y:u-p*h},l);f=Ee(i,`M ${V(v)} C ${V(T)} ${V(N)} ${V(g)} S ${V(A)} ${V(b)} S ${V(D)} ${V(w)} S ${V(P)} ${V(v)}z`,wt(i,s,l))}Ft(i,s,(()=>{const p=document.createElementNS("http://www.w3.org/2000/svg","circle");return p.cx.baseVal.value=a.x,p.cy.baseVal.value=a.y,p.r.baseVal.value=c,p})),ut(i,s,f)})(r,t,e);break;case"ellipse":(function(i,s,l){const o=s.cx.baseVal.value,u=s.cy.baseVal.value,h=s.rx.baseVal.value,a=s.ry.baseVal.value;if(h===0||a===0)return;const c=I({x:o,y:u},l),f=I({x:o+h,y:u+a},l),p=f.x-c.x,v=f.y-c.y;let g;if(ne(l)||ln(l))g=i.rc.ellipse(c.x,c.y,2*p,2*v,Object.assign(Object.assign({},wt(i,s,l)),{preserveVertices:!0}));else{const b=1.3333333333333333*(Math.sqrt(2)-1),w=I({x:o+h,y:u},l),T=I({x:o,y:u+a},l),N=I({x:o-h,y:u},l),A=I({x:o,y:u-a},l),D=I({x:o+h,y:u+b*a},l),P=I({x:o+b*h,y:u+a},l),O=I({x:o-h,y:u+b*a},l),C=I({x:o-b*h,y:u-a},l),R=I({x:o+h,y:u-b*a},l);g=Ee(i,`M ${V(w)} C ${V(D)} ${V(P)} ${V(T)} S ${V(O)} ${V(N)} S ${V(C)} ${V(A)} S ${V(R)} ${V(w)}z`,wt(i,s,l))}Ft(i,s,(()=>{const b=document.createElementNS("http://www.w3.org/2000/svg","ellipse");return b.cx.baseVal.value=c.x,b.cy.baseVal.value=c.y,b.rx.baseVal.value=p,b.ry.baseVal.value=v,b})),ut(i,s,g)})(r,t,e);break;case"polyline":(function(i,s,l){const o=Sr(s),u=o.map((a=>{const c=I(a,l);return[c.x,c.y]})),h=wt(i,s,l);if(Ft(i,s,(()=>{const a=document.createElementNS("http://www.w3.org/2000/svg","polyline");return a.setAttribute("points",u.join(" ")),a})),h.fill&&h.fill!=="none"){const a=Object.assign(Object.assign({},h),{stroke:"none"});ut(i,s,i.rc.polygon(u,a))}ut(i,s,i.rc.linearPath(u,h)),Te(i,s,o,l)})(r,t,e);break;case"polygon":(function(i,s,l){const o=Sr(s),u=o.map((a=>{const c=I(a,l);return[c.x,c.y]})),h=i.rc.polygon(u,wt(i,s,l));Ft(i,s,(()=>{const a=document.createElementNS("http://www.w3.org/2000/svg","polygon");return a.setAttribute("points",u.join(" ")),a})),ut(i,s,h),o.length>0&&(o.push(o[0]),Te(i,s,o,l))})(r,t,e);break;case"text":$o(r,t,e);break;case"image":(function(i,s,l){const o=s.href.baseVal,u=s.x.baseVal.value,h=s.y.baseVal.value;let a,c;if(s.getAttribute("width")&&s.getAttribute("height")&&(a=s.width.baseVal.value,c=s.height.baseVal.value),o.startsWith("data:")&&o.indexOf("image/svg+xml")!==-1){const f=/^data:([^,]*),(.*)/.exec(o);if(f&&f.length>2){const p=f[1];let v=f[2];const g=p.indexOf("base64")!==-1,b=p.indexOf("utf8")!==-1;g&&(v=atob(v)),b||(v=decodeURIComponent(v));const w=new DOMParser().parseFromString(v,"image/svg+xml").firstChild;let T=i.sourceSvg.createSVGMatrix().translate(u,h);T=l?l.matrix.multiply(T):T,i.processElement(i,w,i.sourceSvg.createSVGTransformFromMatrix(T),a,c)}}else{const f=s.cloneNode(),p=document.createElementNS("http://www.w3.org/2000/svg","g");Nt(0,l,p),p.appendChild(f),ut(i,s,p)}})(r,t,e);break;case"foreignObject":(function(i,s,l){const o=s.cloneNode(!0),u=document.createElementNS("http://www.w3.org/2000/svg","g"),h=["color","font-family","font-size","font-style","font-variant","font-weight"],a=getComputedStyle(s);for(const c of h)u.style.setProperty(c,a.getPropertyValue(c));o.transform.baseVal.clear(),Nt(0,l,u),u.appendChild(o),ut(i,o,u)})(r,t,e)}}class Qo{constructor(t){this.rng=t?new Br(t):null}next(t){var e,n;const i=(n=(e=this.rng)===null||e===void 0?void 0:e.next())!==null&&n!==void 0?n:Math.random();if(t){const s=t[0];return i*(t[1]-s)+s}return i}}class Jo{set svg(t){this.$svg!==t&&(this.$svg=t,this.sourceSvgChanged())}get svg(){return this.$svg}set outputType(t){if(this.$outputType!==t){if(t===Ot.CANVAS&&this.outputElement instanceof SVGSVGElement||t===Ot.SVG&&this.outputElement instanceof HTMLCanvasElement)throw new Error(`Output format ${t} incompatible with given output element ${this.outputElement.tagName}`);this.$outputType=t}}get outputType(){return this.$outputType}set roughConfig(t){t.fixedDecimalPlaceDigits===void 0&&(t.fixedDecimalPlaceDigits=3),this.$roughConfig=t}get roughConfig(){return this.$roughConfig}constructor(t,e=Ot.SVG,n={}){if(this.backgroundColor=null,this.fontFamily="Comic Sans MS, cursive",this.randomize=!0,this.seed=null,this.sketchPatterns=!0,this.pencilFilter=!1,this.width=0,this.height=0,this.$roughConfig={},this.idElements={},this.lastResult=null,!t)throw new Error("No target provided");const i=typeof t=="string"?document.querySelector(t):t;if(!i)throw new Error("Could not find target in document");this.roughConfig=n,this.outputElement=i,i instanceof HTMLCanvasElement?this.$outputType=Ot.CANVAS:i instanceof SVGSVGElement?this.$outputType=Ot.SVG:this.$outputType=e}sketch(t=!1){var e,n;if(!this.svg)return Promise.resolve(null);t&&this.sourceSvgChanged();const i=this.prepareRenderContainer(),s=this.createRenderContext(i);if(this.pencilFilter&&Mn(s).appendChild((function(){const l=document.createElementNS("http://www.w3.org/2000/svg","filter");l.setAttribute("id","pencilTextureFilter"),l.setAttribute("x","0%"),l.setAttribute("y","0%"),l.setAttribute("width","100%"),l.setAttribute("height","100%"),l.setAttribute("filterUnits","objectBoundingBox");const o=document.createElementNS("http://www.w3.org/2000/svg","feTurbulence");o.setAttribute("type","fractalNoise"),o.setAttribute("baseFrequency","2"),o.setAttribute("numOctaves","5"),o.setAttribute("stitchTiles","stitch"),o.setAttribute("result","f1"),l.appendChild(o);const u=document.createElementNS("http://www.w3.org/2000/svg","feColorMatrix");u.setAttribute("type","matrix"),u.setAttribute("values","0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 -1.5 1.5"),u.setAttribute("result","f2"),l.appendChild(u);const h=document.createElementNS("http://www.w3.org/2000/svg","feComposite");return h.setAttribute("operator","in"),h.setAttribute("in","SourceGraphic"),h.setAttribute("in2","f2"),h.setAttribute("result","f3"),l.appendChild(h),l})()),s.processElement(s,this.svg,null,this.width,this.height),this.outputElement instanceof SVGSVGElement)return Promise.resolve(this.outputElement);if(this.outputElement instanceof HTMLCanvasElement)return this.drawToCanvas(s,this.outputElement);if((n=(e=this.lastResult)===null||e===void 0?void 0:e.parentNode)===null||n===void 0||n.removeChild(this.lastResult),this.outputType===Ot.SVG){const l=s.svgSketch;return this.outputElement.appendChild(l),this.lastResult=l,Promise.resolve(l)}{const l=document.createElement("canvas");return this.outputElement.appendChild(l),this.lastResult=l,this.drawToCanvas(s,l)}}createRenderContext(t){if(!this.svg)throw new Error("No source SVG set yet.");let e=this.roughConfig;return this.seed!==null&&(e=Object.assign({seed:this.seed},e)),{rc:ho.svg(t,{options:e}),roughConfig:this.roughConfig,fontFamily:this.fontFamily,pencilFilter:this.pencilFilter,randomize:this.randomize,rng:new Qo(this.seed),sketchPatterns:this.sketchPatterns,idElements:this.idElements,sourceSvg:this.svg,svgSketch:t,svgSketchIsInDOM:document.body.contains(t),styleSheets:Array.from(this.svg.querySelectorAll("style")).map((n=>n.sheet)).filter((n=>n!==null)),processElement:oi}}drawToCanvas(t,e){e.width=this.width,e.height=this.height;const n=e.getContext("2d");return n.clearRect(0,0,this.width,this.height),new Promise((i=>{const s=new XMLSerializer().serializeToString(t.svgSketch),l=new Image;l.onload=function(){n.drawImage(this,0,0),i(e)},l.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(s)}`}))}prepareRenderContainer(){let t,e;for(t=this.outputElement instanceof SVGSVGElement?this.outputElement:document.createElementNS("http://www.w3.org/2000/svg","svg"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink");t.firstChild;)t.removeChild(t.firstChild);return t.setAttribute("width",this.width.toString()),t.setAttribute("height",this.height.toString()),this.backgroundColor&&(e=document.createElementNS("http://www.w3.org/2000/svg","rect"),e.width.baseVal.value=this.width,e.height.baseVal.value=this.height,e.setAttribute("fill",this.backgroundColor),t.appendChild(e)),t.setAttribute("stroke-linecap","round"),t}sourceSvgChanged(){const t=this.$svg;if(t){const e=this.roughConfig.fixedDecimalPlaceDigits;this.width=parseFloat(this.coerceSize(t,"width",300).toFixed(e)),this.height=parseFloat(this.coerceSize(t,"height",150).toFixed(e)),this.collectElementsWithID()}}collectElementsWithID(){this.idElements={};const t=Array.prototype.slice.apply(this.svg.querySelectorAll("*[id]"));for(const e of t){const n=e.getAttribute("id");n&&(this.idElements[n]=e)}}coerceSize(t,e,n){let i=n;const s=t.hasAttribute("viewBox");return t.hasAttribute(e)?i=t[e].baseVal.unitType===SVGLength.SVG_LENGTHTYPE_PERCENTAGE&&s?t.viewBox.baseVal[e]:t[e].baseVal.value:s&&(i=t.viewBox.baseVal[e]),i}}var Ko=Li('<!> <div id="view"><div id="container" class="h-full overflow-auto"></div></div>',1);function ua(r,t){Lr(t,!0);const e=()=>Bn(Qn,"$inputStateStore",i),n=()=>Bn(fs,"$mode",i),[i,s]=Di();let l=$n(t,"panZoomState",23,()=>new Ps),o=$n(t,"shouldShowGrid",3,!0),u="",h="",a=ye(void 0),c,f=ye(void 0),p=ye(!1),v=!0,g=!0,b=ye(void 0);const w=()=>{l().onPanZoomChange=(C,R)=>{us({pan:C,zoom:R})}},T=(C,R)=>{try{l().updateElement(R,C)}catch(G){console.error("PanZoom error:",G)}},N=async C=>{const R=Date.now();if(C.error!==void 0){Lt(p,!0);return}Lt(p,!1);let G;try{if(ft(a)){if(g=!0,u===C.code&&h===C.mermaid&&c===C.rough&&v===C.panZoom||!ws())return;u=C.code,h=C.mermaid,c=C.rough,v=C.panZoom??!0,ks(u)&&await ft(b)?.();const z=ft(f)?.parentElement?.scrollTop;delete ft(a).dataset.processed;const F=ms("graph-");let H;if(typeof C.mermaid=="string")try{H=JSON.parse(C.mermaid)}catch{H={theme:"default"}}else H=C.mermaid;const{svg:Y,bindFunctions:W,diagramType:Q}=await hs(H,u,F);if(G=Q,Y.length>0){ft(a).innerHTML=Y;let $=document.querySelector(`#${F}`);if(!$)throw new Error("graph-div not found");if(C.rough){const q=new Jo("#container");q.svg=$,await q.sketch(),$.remove();const Z=document.querySelector("#container > svg");if(!Z)throw new Error("sketch not found");const rt=Z.getAttribute("height"),it=Z.getAttribute("width");Z.setAttribute("id","graph-div"),Z.setAttribute("height","100%"),Z.setAttribute("width","100%"),Z.setAttribute("viewBox",`0 0 ${it} ${rt}`),Z.style.maxWidth="100%",$=Z}else $.setAttribute("height","100%"),$.style.maxWidth="100%",W&&W($);C.panZoom&&T(C,$)}ft(f)?.parentElement&&z&&(ft(f).parentElement.scrollTop=z),Lt(p,!1)}else g&&(g=!1)}catch(z){console.error("view fail",z),Lt(p,!0)}const U=Date.now()-R;cs({code:u,diagramType:G,isRough:C.rough,renderTime:U}),xs(U,()=>{zi(Qn,Yn(e).updateDiagram=!0,Yn(e))})};ts(()=>{w();let C=Promise.resolve();ls.subscribe(R=>{C=C.then(()=>N(R).catch(()=>{}))})});var A=Ko(),D=zr(A);Is(D,{get waitForFontAwesomeToLoad(){return ft(b)},set waitForFontAwesomeToLoad(C){Lt(b,C,!0)}});var P=ns(D,2),O=rs(P);jn(O,C=>Lt(a,C),()=>ft(a)),is(P),jn(P,C=>Lt(f,C),()=>ft(f)),es(()=>ss(P,1,os(["h-full w-full",o()&&`grid-bg-${n()}`,ft(p)&&"opacity-50"]),"svelte-1cjg1wn")),Dr(r,A),Fr(),s()}export{Ps as P,ua as V,la as w};
